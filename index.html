<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CalmTyping – Home Row Trainer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="calmtyping.icon.svg" type="image/svg+xml" />
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color-scheme: dark;
    }

    body {
      margin: 0;
      padding: 0;
      background: #020617;
      color: #e5e7eb;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }

    .app {
      margin: 24px;
      max-width: 1120px;
      width: 100%;
      background: #020617;
      border-radius: 16px;
      padding: 24px 28px 32px;
      box-shadow: 0 22px 45px rgba(0,0,0,0.45);
      border: 1px solid #111827;
    }

    h1 {
      margin-top: 0;
      font-size: 1.6rem;
      margin-bottom: 6px;
    }

    .logo-row {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-img {
      height: 36px;
      width: auto;
      display: block;
    }

    .subtitle {
      font-size: 0.9rem;
      color: #9ca3af;
      margin-bottom: 18px;
    }

    .top-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
      margin-bottom: 18px;
    }

    .pill,
    .button {
      background: #020617;
      border-radius: 999px;
      border: 1px solid #4b5563;
      padding: 6px 12px;
      font-size: 0.8rem;
      color: #e5e7eb;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .select {
      position: relative;
      padding-right: 26px;
    }

    .select select {
      background: transparent;
      border: none;
      color: inherit;
      font: inherit;
      outline: none;
      cursor: pointer;
    }

    .select::after {
      content: "▾";
      position: absolute;
      right: 8px;
      font-size: 0.7rem;
      color: #6b7280;
      pointer-events: none;
    }

    .button {
      cursor: pointer;
      background: #111827;
      border-color: #6b7280;
      transition: background 0.15s, transform 0.05s, box-shadow 0.05s;
    }

    .button:hover {
      background: #1f2937;
    }

    .button:active {
      transform: translateY(1px);
      box-shadow: none;
    }

    .helper-text {
      font-size: 0.75rem;
      color: #6b7280;
    }

    .layout {
      display: grid;
      grid-template-columns: 330px 1fr;
      gap: 18px;
    }

    @media (max-width: 900px) {
      .layout {
        grid-template-columns: 1fr;
      }
    }

    aside.lessons {
      background: #020617;
      border-radius: 12px;
      border: 1px solid #111827;
      padding: 12px;
      max-height: 520px;
      overflow-y: auto;
      position: relative;
    }

    /* subtle fade to hint more content */
    aside.lessons::after {
      content: "";
      position: sticky;
      display: block;
      bottom: 0;
      left: 0;
      right: 0;
      height: 28px;
      pointer-events: none;
      background: linear-gradient(180deg, rgba(2,6,23,0) 0%, rgba(2,6,23,0.9) 60%, rgba(2,6,23,1) 100%);
    }

    .lessons-title {
      font-size: 0.9rem;
      margin-bottom: 4px;
    }

    .lesson-group-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 6px;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.15s, border-color 0.15s;
      border: 1px solid transparent;
    }

    .lesson-group-header:hover {
      background: #0b1224;
      border-color: #1f2937;
    }

    .lesson-group-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: .08em;
      color: #6b7280;
    }

    .lesson-group-chevron {
      font-size: 0.8rem;
      color: #6b7280;
      transition: transform 0.15s;
    }

    .lesson-group-chevron.closed {
      transform: rotate(-90deg);
    }

    .lessons-list {
      display: flex;
      flex-direction: column;
      gap: 4px;
      margin-left: 2px;
      margin-right: 2px;
    }

    .lesson {
      border-radius: 8px;
      padding: 6px 10px;
      font-size: 0.8rem;
      cursor: pointer;
      border: 1px solid transparent;
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: start;
      column-gap: 10px;
      background: #020617;
      color: #d1d5db;
    }

    .lesson:hover {
      background: #020617;
      border-color: #1f2937;
    }

    .lesson.active {
      background: #111827;
      border-color: #6366f1;
      color: #e5e7eb;
    }

    .lesson-main {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      min-width: 0; /* allow long labels to wrap inside their column */
    }

    .lesson-sub {
      font-size: 0.7rem;
      color: #6b7280;
    }

    .lesson-tag {
      font-size: 0.7rem;
      padding: 2px 8px;
      border-radius: 999px;
      background: #020617;
      border: 1px solid #1f2937;
      color: #9ca3af;
      white-space: nowrap;
      align-self: start;
    }

    main.main {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .exercise {
      background: #020617;
      border-radius: 12px;
      border: 1px solid #111827;
      padding: 12px 14px;
      min-height: 120px;
    }

    .exercise-label-row {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 4px;
    }

    .label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: .08em;
      color: #6b7280;
    }

    .segment-label {
      font-size: 0.75rem;
      color: #9ca3af;
    }

    .exercise-text {
      font-size: 1.02rem;
      line-height: 1.6;
      color: #9ca3af;
      white-space: pre-wrap;
      word-wrap: break-word;
    }

    .exercise-text span.current {
      background: #6366f1;
      color: #e5e7eb;
      border-radius: 3px;
      padding: 0 1px;
    }

    .exercise-text span.done {
      color: #22c55e;
    }

    .exercise-text span.error {
      color: #f97373;
      text-decoration: underline;
    }

    .typed {
      background: #020617;
      border-radius: 12px;
      border: 1px solid #111827;
      padding: 10px 14px;
      min-height: 60px;
      font-size: 0.96rem;
      color: #e5e7eb;
      white-space: pre-wrap;
      word-wrap: break-word;
    }

    .stats-and-finger {
      display: grid;
      grid-template-columns: 2fr 1.7fr;
      gap: 10px;
    }

    @media (max-width: 900px) {
      .stats-and-finger {
        grid-template-columns: 1fr;
      }
    }

    .stats {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      font-size: 0.8rem;
      color: #9ca3af;
    }

    .stat {
      padding: 4px 8px;
      border-radius: 999px;
      background: #020617;
      border: 1px solid #111827;
      min-width: 82px;
    }

    .stat strong {
      color: #e5e7eb;
      font-weight: 600;
    }

    .finger-box {
      background: #020617;
      border-radius: 12px;
      border: 1px solid #111827;
      padding: 8px 10px;
      font-size: 0.8rem;
      color: #9ca3af;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .finger-main {
      font-size: 0.9rem;
      color: #e5e7eb;
    }

    .finger-detail {
      font-size: 0.78rem;
      color: #9ca3af;
    }

    .hand-diagrams {
      display: flex;
      justify-content: space-between;
      margin-top: 4px;
      gap: 10px;
    }

    .hand-diagrams svg {
      width: 110px;
      height: 80px;
    }

    .hand-outline {
      fill: none;
      stroke: #4b5563;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .finger-dot {
      fill: none;
      stroke: #6b7280;
      stroke-width: 2;
    }

    .finger-dot.active {
      fill: #22c55e;
      stroke: #22c55e;
    }

    .keyboard {
      margin-top: 10px;
      border-radius: 12px;
      border: 1px solid #111827;
      padding: 10px;
      background: radial-gradient(circle at top, #111827, #020617);
    }

    .kb-row {
      display: flex;
      justify-content: center;
      gap: 4px;
      margin-bottom: 4px;
    }

    .key {
      min-width: 28px;
      padding: 6px 6px;
      border-radius: 6px;
      background: #020617;
      border: 1px solid #1f2937;
      text-align: center;
      font-size: 0.75rem;
      color: #9ca3af;
      user-select: none;
      box-shadow: 0 2px 0 rgba(0,0,0,0.5);
    }

    .key.wide {
      min-width: 50px;
    }

    .key.space {
      min-width: 200px;
    }

    .key.active {
      background: #4f46e5;
      color: #e5e7eb;
      border-color: #818cf8;
      box-shadow: 0 0 0 1px rgba(129,140,248,0.7);
    }
  </style>
</head>
<body>
<div class="app" tabindex="0" id="appRoot">
  <div class="logo-row">
    <img src="calmtyping-logo.svg" alt="CalmTyping logo" class="logo-img" />
    <h1 id="uiTitle">CalmTyping – Home Row Trainer</h1>
  </div>
  <div class="subtitle" id="uiSubtitle">
    Practice touch typing without looking at the keyboard. Choose any exercise in any order.
  </div>

  <div class="top-bar">
    <div class="pill select">
      <span id="uiPracticeLangLabel">Practice language:</span>
      <select id="languageSelect">
        <option value="fi">Finnish</option>
        <option value="en">English</option>
      </select>
    </div>

    <div class="pill select">
      <span id="uiUiLangLabel">UI language:</span>
      <select id="uiLanguageSelect">
        <option value="en">English</option>
        <option value="fi">Suomi</option>
      </select>
    </div>

    <button class="button" id="resetBtn">Reset exercise (Esc)</button>
    <span class="helper-text" id="uiHelper">
      Make sure this window has focus. Just start typing, there is no text field.
    </span>
  </div>

  <div class="layout">
    <aside class="lessons">
      <div class="lessons-title" id="uiLessonsTitle">Lessons (free order)</div>
      <div id="lessonsList"></div>
    </aside>

    <main class="main">
      <section class="exercise">
        <div class="exercise-label-row">
          <div class="label" id="uiExerciseLabel">Exercise text</div>
          <div class="segment-label" id="segmentLabel"></div>
        </div>
        <div id="exerciseText" class="exercise-text">
          Select a lesson on the left and start typing.
        </div>
      </section>

      <section class="typed">
        <div class="label" id="uiTypedLabel">Your typing</div>
        <div id="typedText"></div>
      </section>

      <div class="stats-and-finger">
        <section class="stats">
          <div class="stat"><span id="uiStatCharsLabel">Chars:</span> <strong id="statChars">0</strong></div>
          <div class="stat"><span id="uiStatErrorsLabel">Errors:</span> <strong id="statErrors">0</strong></div>
          <div class="stat"><span id="uiStatAccuracyLabel">Accuracy:</span> <strong id="statAccuracy">100%</strong></div>
          <div class="stat"><span id="uiStatTimeLabel">Time:</span> <strong id="statTime">0.0 s</strong></div>
          <div class="stat"><span id="uiStatWpmLabel">Speed:</span> <strong id="statWpm">0 WPM</strong></div>
        </section>

        <section class="finger-box">
          <div class="label" id="uiFingerTitle">Finger guide</div>
          <div class="finger-main" id="fingerMain">
            Select a lesson to see finger hints.
          </div>
          <div class="finger-detail" id="fingerDetail">
            CalmTyping suggests which finger to use for the next key. Space uses both thumbs.
          </div>

          <div class="hand-diagrams">
            <!-- LEFT HAND -->
            <svg viewBox="0 0 100 80" aria-hidden="true">
              <!-- palm -->
              <path class="hand-outline"
                    d="M24 72
                       L24 52
                       Q24 44 30 44
                       L70 44
                       Q76 44 76 52
                       L76 72 Z" />
              <!-- four fingers (lines) -->
              <path class="hand-outline" d="M28 44 L28 26" />
              <path class="hand-outline" d="M40 44 L40 20" />
              <path class="hand-outline" d="M52 44 L52 18" />
              <path class="hand-outline" d="M64 44 L64 24" />
              <!-- fingertips -->
              <circle class="finger-dot" data-finger="leftPinky"  cx="28" cy="26" r="3" />
              <circle class="finger-dot" data-finger="leftRing"   cx="40" cy="20" r="3" />
              <circle class="finger-dot" data-finger="leftMiddle" cx="52" cy="18" r="3" />
              <circle class="finger-dot" data-finger="leftIndex"  cx="64" cy="24" r="3" />
              <!-- thumb on inner side (right) -->
              <circle class="finger-dot" data-finger="leftThumb"  cx="62" cy="60" r="3" />
            </svg>

            <!-- RIGHT HAND -->
            <svg viewBox="0 0 100 80" aria-hidden="true">
              <!-- palm -->
              <path class="hand-outline"
                    d="M76 72
                       L76 52
                       Q76 44 70 44
                       L30 44
                       Q24 44 24 52
                       L24 72 Z" />
              <!-- four fingers (lines) -->
              <path class="hand-outline" d="M72 44 L72 26" />
              <path class="hand-outline" d="M60 44 L60 20" />
              <path class="hand-outline" d="M48 44 L48 18" />
              <path class="hand-outline" d="M36 44 L36 24" />
              <!-- fingertips -->
              <circle class="finger-dot" data-finger="rightPinky"  cx="72" cy="26" r="3" />
              <circle class="finger-dot" data-finger="rightRing"   cx="60" cy="20" r="3" />
              <circle class="finger-dot" data-finger="rightMiddle" cx="48" cy="18" r="3" />
              <circle class="finger-dot" data-finger="rightIndex"  cx="36" cy="24" r="3" />
              <!-- thumb on inner side (left) -->
              <circle class="finger-dot" data-finger="rightThumb" cx="38" cy="60" r="3" />
            </svg>
          </div>
        </section>
      </div>

      <section class="keyboard">
        <div class="kb-row">
          <div class="key wide">§</div>
          <div class="key" data-key="1">1</div>
          <div class="key" data-key="2">2</div>
          <div class="key" data-key="3">3</div>
          <div class="key" data-key="4">4</div>
          <div class="key" data-key="5">5</div>
          <div class="key" data-key="6">6</div>
          <div class="key" data-key="7">7</div>
          <div class="key" data-key="8">8</div>
          <div class="key" data-key="9">9</div>
          <div class="key" data-key="0">0</div>
          <div class="key" data-key="+">+</div>
        </div>
        <div class="kb-row">
          <div class="key wide">Tab</div>
          <div class="key" data-key="q">Q</div>
          <div class="key" data-key="w">W</div>
          <div class="key" data-key="e">E</div>
          <div class="key" data-key="r">R</div>
          <div class="key" data-key="t">T</div>
          <div class="key" data-key="y">Y</div>
          <div class="key" data-key="u">U</div>
          <div class="key" data-key="i">I</div>
          <div class="key" data-key="o">O</div>
          <div class="key" data-key="p">P</div>
          <div class="key" data-key="å">Å</div>
        </div>
        <div class="kb-row">
          <div class="key wide">Caps</div>
          <div class="key" data-key="a">A</div>
          <div class="key" data-key="s">S</div>
          <div class="key" data-key="d">D</div>
          <div class="key" data-key="f">F</div>
          <div class="key" data-key="g">G</div>
          <div class="key" data-key="h">H</div>
          <div class="key" data-key="j">J</div>
          <div class="key" data-key="k">K</div>
          <div class="key" data-key="l">L</div>
          <div class="key" data-key="ö">Ö</div>
          <div class="key" data-key="ä">Ä</div>
        </div>
        <div class="kb-row">
          <div class="key wide">Shift</div>
          <div class="key" data-key="z">Z</div>
          <div class="key" data-key="x">X</div>
          <div class="key" data-key="c">C</div>
          <div class="key" data-key="v">V</div>
          <div class="key" data-key="b">B</div>
          <div class="key" data-key="n">N</div>
          <div class="key" data-key="m">M</div>
          <div class="key" data-key=",">,</div>
          <div class="key" data-key=".">.</div>
          <div class="key wide">Shift</div>
        </div>
        <div class="kb-row">
          <div class="key wide">Ctrl</div>
          <div class="key wide">Alt</div>
          <div class="key space" data-key=" ">Space</div>
          <div class="key wide">AltGr</div>
          <div class="key wide">Ctrl</div>
        </div>
      </section>
    </main>
  </div>
</div>

<script>
  // ==== LESSON DATA ==========================================================
  // Each lesson is a modular exercise:
  // - group: which logical lesson set it belongs to (e.g. L1 Home Row, Long FI)
  // - category: "Introduction", "Technique", "Word practice", "Long practice"
  // - language: practice language, "fi" or "en"
  // - segments: short pieces of text the user types one by one

  const lessons = [
    // -----------------------------------------------------------------------
    // L1 – Home Row (Finnish) – allowed chars: a s d f j k l ö + space
    // -----------------------------------------------------------------------
    {
      id: "fi-l1-intro",
      group: "Lesson 1 – Home Row (FI)",
      category: "Introduction",
      language: "fi",
      label: "Home row – basic patterns",
      tag: "L1",
      fingerHints: true,
      segments: [
        "asdf asdf asdf asdf",
        "jklö jklö jklö jklö",
        "as as as df df df",
        "jk jk jk lö lö lö",
        "aa ss dd ff jj kk ll öö",
        "asdf jklö asdf jklö",
        "as df as df as df",
        "ja la sa ja la sa"
      ]
    },
    {
      id: "fi-l1-tech-1",
      group: "Lesson 1 – Home Row (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 1 – left ↔ right hand",
      tag: "L1",
      fingerHints: true,
      segments: [
        "as jk as jk as jk",
        "df jl df jl df jl",
        "sa ja sa ja sa ja",
        "la ja la ja la ja",
        "as as jk jk as as jk jk",
        "asdf jklö asdf jklö",
        "as jl as jl as jl",
        "sa lö sa lö sa lö"
      ]
    },
    {
      id: "fi-l1-tech-2",
      group: "Lesson 1 – Home Row (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 2 – small jumps",
      tag: "L1",
      fingerHints: true,
      segments: [
        "asa sasa asda asfa",
        "jaka lajka jakla",
        "sala sala sala sala",
        "asdf sadf asdf sadf",
        "jklö lkjö jklö lkjö",
        "asla asla laas laas",
        "lasj ljas salj jalas",
        "asjf sjaf jasf fasj"
      ]
    },
    {
      id: "fi-l1-tech-3",
      group: "Lesson 1 – Home Row (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 3 – mixed rhythm",
      tag: "L1",
      fingerHints: true,
      segments: [
        "as as asdf asdf",
        "sa sa saas saas",
        "la la laal laal",
        "lö lö lööl lööl",
        "as la asla asla",
        "ja sa jasa jasa",
        "öf löf löf öf",
        "jasl sjal ljas asjl"
      ]
    },
    {
      id: "fi-l1-words-1",
      group: "Lesson 1 – Home Row (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 1 – simple shapes",
      tag: "L1",
      fingerHints: true,
      segments: [
        "kökö sköda fassa",
        "daaddö daköö kökö daddöa",
        "jaksa fassa daksa",
        "fajja kassa jassa",
        "löjda sköda fassalla",
        "kökösköda jaskalla",
        "kassafassa jallassa",
        "sköda jassafassa jallassa"
      ]
    },
    {
      id: "fi-l1-words-2",
      group: "Lesson 1 – Home Row (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 2 – longer patterns",
      tag: "L1",
      fingerHints: true,
      segments: [
        "dassa fassa jalla",
        "kölö jödfö",
        "sköda daköö laskaa",
        "falla jalla dalsa",
        "kölö jalla jaffa",
        "jaksa sköda fassalla",
        "jallafassa sköda kassalla fassakassa",
        "fassakassa jallafassa sködakassa kököjalla"
      ]
    },


    // -----------------------------------------------------------------------
    // Finnish – Lesson 2 (add r, u)
    // -----------------------------------------------------------------------
    {
      id: "fi-l2-intro",
      group: "Lesson 2 – r, u (FI)",
      category: "Introduction",
      language: "fi",
      label: "Add r and u – basic patterns",
      tag: "L2",
      fingerHints: true,
      segments: [
        "ruru ruru ruru",
        "ur ur ur ur",
        "rr uu rr uu",
        "ra ru ra ru",
        "urra rura rr ur",
        "asru asru asru",
        "jrau juru jrau"
      ]
    },
    {
      id: "fi-l2-tech-1",
      group: "Lesson 2 – r, u (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 1 – focus on r/u",
      tag: "L2",
      fingerHints: true,
      segments: [
        "ru ru ra ra",
        "ur ur ar ar",
        "asru asru asru",
        "rur asu rur asu",
        "ruö ruö ruö",
        "rusa rura rusa",
        "rujr rujr rujr",
        "faru faru faru"
      ]
    },
    {
      id: "fi-l2-tech-2",
      group: "Lesson 2 – r, u (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 2 – mix with home row",
      tag: "L2",
      fingerHints: true,
      segments: [
        "rrr uuu rrr uuu",
        "rur arru rurru",
        "furra furra furra",
        "rulla rulla rulla",
        "sarra surra sarra",
        "jarra jurra jarra",
        "asru asru rura rura",
        "rurö rurö rörö"
      ]
    },
    {
      id: "fi-l2-tech-3",
      group: "Lesson 2 – r, u (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 3 – mix patterns",
      tag: "L2",
      fingerHints: true,
      segments: [
        "rura asru rura asru",
        "ruru asru ruru asru",
        "suru sura sura suru",
        "rulla rura rulla rura",
        "rurö rölö rurö rölö",
        "furru furra furru furra",
        "jaru jura jaru jura",
        "asru rura asru rura"
      ]
    },
    {
      id: "fi-l2-words-1",
      group: "Lesson 2 – r, u (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 1 – r & u basics",
      tag: "L2",
      fingerHints: true,
      segments: [
        "lada ajaa kuraa kuussa daa ja uraa",
        "rulla ulla asuu kurjalla kujalla karjaalla",
        "saara saa kuraa ja kuraa uralla",
        "kalja kallaa ja darra rullaa auraa",
        "ura rullaa kurua ja kuraa uralla",
        "rulla kuraa ja urku kuraa urulla",
        "saara ja ulla rullaa kuraa uralla",
        "kalja ja darra kuraa rullassa uralla"
      ]
    },
    {
      id: "fi-l2-words-2",
      group: "Lesson 2 – r, u (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 2 – longer phrases",
      tag: "L2",
      fingerHints: true,
      segments: [
        "kökkö kala kuruaa karua ödöö dödöa",
        "saara saa akkuja lakua akkualla kursussa",
        "raskas urku raasaa kurjaa auraa",
        "rada kuraa uralla ja urku rullaa kuraa",
        "rulla kurjaa kuraa ja kuraa urussa",
        "kalja kallaa ja darra kuraa rullassa",
        "saara ja ulla rullaa kuraa kurauralla",
        "raskas kuraurku rullaa kurauralla auraa"
      ]
    },
    // -----------------------------------------------------------------------
    // Finnish – Lesson 3 (add t, y)
    // -----------------------------------------------------------------------
    {
      id: "fi-l3-intro",
      group: "Lesson 3 – T + Y (FI)",
      category: "Introduction",
      language: "fi",
      label: "Introduction – ty & yt shapes",
      tag: "L3",
      fingerHints: true,
      segments: [
        "ta ty ta ty ta ty",
        "ra ry ra ry ra ry",
        "la ly la ly la ly",
        "sa sy sa sy sa sy",
        "ta la ta la ta la",
        "ry ly ry ly ry ly",
        "ty tu ty tu ty tu",
        "talu tylu ralu rylu"
      ]
    },
    {
      id: "fi-l3-tech-1",
      group: "Lesson 3 – T + Y (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 1 – basic jumps with t & y",
      tag: "L3",
      fingerHints: true,
      segments: [
        "ta ra ta ra ta ra",
        "ly ry ly ry ly ry",
        "sa ty sa ty sa ty",
        "ty la ty la ty la",
        "ta ty ra ry sa sy",
        "tu ty tu ty tu ty",
        "tal tyk tal tyk tal",
        "rat tyl rat tyl rat"
      ]
    },
    {
      id: "fi-l3-tech-2",
      group: "Lesson 3 – T + Y (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 2 – mixed new keys",
      tag: "L3",
      fingerHints: true,
      segments: [
        "tasa lata rata sata",
        "lysa rysa lysa rysa",
        "talu ralu salu taly",
        "tyla rya ta ly sa ry",
        "rata tuta lata tyta",
        "saly tayl ral yta",
        "tura lyra rata tula",
        "saty luty raly saty"
      ]
    },
    {
      id: "fi-l3-tech-3",
      group: "Lesson 3 – T + Y (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 3 – mixed rhythm",
      tag: "L3",
      fingerHints: true,
      segments: [
        "ta ta ty ty ta ty",
        "ra ra ry ry ra ry",
        "la la ly ly la ly",
        "sa sa sy sy sa sy",
        "tala tala tala tyla",
        "ryla ryla syla syla",
        "talysa raltys talysa raltys",
        "tylasa ralysa salyty raltyl"
      ]
    },
    {
      id: "fi-l3-words-1",
      group: "Lesson 3 – T + Y (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 1 – real-ish words",
      tag: "L3",
      fingerHints: true,
      segments: [
        "tytöt rullaa talu",
        "tatu sytytyt lyly",
        "ryty rullaa tylly",
        "lyyra rytyy rulyssa",
        "saara tytyy rytyy",
        "talu rulyy rytyy",
        "tyly ukku rullaa tyllyy",
        "saara ja tatu sytytyt tylly rytyssa"
      ]
    },
    {
      id: "fi-l3-words-2",
      group: "Lesson 3 – T + Y (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 2 – longer real-ish sentences",
      tag: "L3",
      fingerHints: true,
      segments: [
        "tytöt rullaa talu ja saara sytytyt lylyy",
        "tatu tut tyly ja taly rysyy rytyssa",
        "lyyra tytyy rulyssa ja rytyy",
        "talu rullaa rytyy ja tyly ukku rulyy",
        "saara tytyy rulyssa ja rytyy talyssa",
        "tatu ja saara sytytyt tylly talyssa",
        "kylylla tytöt rullaa talu ja rytyy rytyssa",
        "lyyra ja tatu rullaa talu rytylta rytyy"
      ]
    },
    {
      id: "fi-l3-long-1",
      group: "Lesson 3 – T + Y (FI)",
      category: "Long practice",
      language: "fi",
      label: "Long practice – flowing t & y",
      tag: "L3",
      fingerHints: true,
      segments: [
        "saara talla talu kylylla rauassa",
        "talu laulaa laulaa ja saara rulla satulaa",
        "tatu talla talua ja saara rullaa auraa",
        "laulu rullaa talylla ja kylylla tulyssa",
        "saly rautaa talya ja rauaa rulla",
        "taly rysaa laulaa ja saara talla auraa",
        "rulla talua rauassa ja saara kulkaa satulaa",
        "tatu ja saara laulaa talulla ja auryssa tyylaa"
      ]
    },
    // -----------------------------------------------------------------------
    // Finnish – Lesson 4 (add h, n)
    // -----------------------------------------------------------------------
    {
      id: "fi-l4-intro",
      group: "Lesson 4 – H + N (FI)",
      category: "Introduction",
      language: "fi",
      label: "Introduction – h & n basics",
      tag: "L4",
      fingerHints: true,
      segments: [
        "ha na ha na ha na",
        "sa na sa na sa na",
        "ha la ha la ha la",
        "na ra na ra na ra",
        "ha na la ra sa ja",
        "han han han han",
        "nah nah nah nah",
        "hana lana rana sana"
      ]
    },
    {
      id: "fi-l4-tech-1",
      group: "Lesson 4 – H + N (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 1 – h & n jumps",
      tag: "L4",
      fingerHints: true,
      segments: [
        "ha na ha na ha",
        "la na la na la",
        "ra ha ra ha ra",
        "sa na ha sa na",
        "hana lana rana sana",
        "na ha na ha na",
        "hala sana lana rana",
        "janha lanha ranha sanha"
      ]
    },
    {
      id: "fi-l4-tech-2",
      group: "Lesson 4 – H + N (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 2 – mixed new keys",
      tag: "L4",
      fingerHints: true,
      segments: [
        "hanu lanu ranu sanu",
        "naha laha raha saha",
        "hanla lanha ranla sanla",
        "nahra sahna lanra hanra",
        "sanha lanhu ranha hanla",
        "rahna lahan hanla nahla",
        "lansa ransa hansa nansa",
        "hanly ranla sanly lanly"
      ]
    },
    {
      id: "fi-l4-tech-3",
      group: "Lesson 4 – H + N (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 3 – mixed rhythm",
      tag: "L4",
      fingerHints: true,
      segments: [
        "ha ha na na ha na",
        "la la na na la na",
        "ra ra ha ha ra ha",
        "sa sa na na sa na",
        "hanla lanha ranla sanha",
        "nahla rahla sahla lanha",
        "hanly sanly ranly lanly",
        "rahly lanly sanly hanly"
      ]
    },
    {
      id: "fi-l4-words-1",
      group: "Lesson 4 – H + N (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 1 – real-ish h & n words",
      tag: "L4",
      fingerHints: true,
      segments: [
        "hana lana sana rana",
        "nana hana nanna hana",
        "saana hala hana ranna",
        "hanha halaa nana ranna",
        "laana hanaa nanna ranna",
        "sanna hala hanaa ranla",
        "hanha nanha ralla hanla",
        "sanna ja hana hala ranna"
      ]
    },
    {
      id: "fi-l4-words-2",
      group: "Lesson 4 – H + N (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 2 – longer real-ish sentences",
      tag: "L4",
      fingerHints: true,
      segments: [
        "hana hala hanhaa ralla ja sanna hala hanaa",
        "nanna haluaa hanaa ja hanha ralla nanna",
        "hanha ralla rannan ja hana nauraa nannaa",
        "sanna haluaa hanhan hanan kun nana saa",
        "hanha nussa hanaa ja nanna haluaa hanhaa",
        "nanna ralla hanaa ja hanha haluaa nannaa",
        "hana hala hanhaa rannalla ja nanna hala hanaa",
        "sanna ja hana ralla hanhan talulla"
      ]
    },
    {
      id: "fi-l4-long-1",
      group: "Lesson 4 – H + N (FI)",
      category: "Long practice",
      language: "fi",
      label: "Long practice – calm Finnish with h & n",
      tag: "L4",
      fingerHints: true,
      segments: [
        "hana kulku rannalla halla",
        "sanna rataa hanaa rannalla",
        "hanha nauraa rannalla ja nauta tallaa",
        "halla rullaa talua ja sauna rataa",
        "hana halaa hanhaa halla",
        "sanna laulaa rauaa rannan alla",
        "ranta rauaa hanaa ja yö rauaa",
        "halla rannassa antaa rauaa hanaa"
      ]
    },

    // -----------------------------------------------------------------------
    // Finnish – Lesson 5 (add i, o)
    // -----------------------------------------------------------------------
    {
      id: "fi-l5-intro",
      group: "Lesson 5 – I + O (FI)",
      category: "Introduction",
      language: "fi",
      label: "Introduction – i & o patterns",
      tag: "L5",
      fingerHints: true,
      segments: [
        "ia io ia io ia io",
        "ti to ti to ti to",
        "si so si so si so",
        "ra ri ra ri ra ri",
        "la li la li la li",
        "ta ti ta ti to to",
        "ria ria ria rio",
        "talo tuli tila tila"
      ]
    },
    {
      id: "fi-l5-tech-1",
      group: "Lesson 5 – I + O (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 1 – basic i & o jumps",
      tag: "L5",
      fingerHints: true,
      segments: [
        "ti to ti to ti to",
        "ri ro ri ro ri ro",
        "li lo li lo li lo",
        "si so si so si so",
        "tai toi tai toi tai",
        "tori tori tori tori",
        "talo tuli tila tola",
        "tori tila tuli talo"
      ]
    },
    {
      id: "fi-l5-tech-2",
      group: "Lesson 5 – I + O (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 2 – mixed new keys",
      tag: "L5",
      fingerHints: true,
      segments: [
        "taito taito tila tila",
        "taito talo tila tola",
        "laulu soi talolla iltaisin",
        "taito tila talo tili",
        "talo tili tila tuli",
        "saari soi talolla iltana",
        "taito ralli talolla",
        "taito tila ralli talo"
      ]
    },
    {
      id: "fi-l5-tech-3",
      group: "Lesson 5 – I + O (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 3 – mixed rhythm",
      tag: "L5",
      fingerHints: true,
      segments: [
        "taito taito talo talo",
        "talo tuli tila tili",
        "saari soi iltana talolla",
        "tuli ilta tuli ilta",
        "taito ralli soi talolla",
        "talo soi tila tuli",
        "taito talo soi iltana",
        "taito tila tuli talo"
      ]
    },
    {
      id: "fi-l5-words-1",
      group: "Lesson 5 – I + O (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 1 – i & o words",
      tag: "L5",
      fingerHints: true,
      segments: [
        "talo tuli tila tili",
        "saari soi iltana",
        "ruoka oli uunissa",
        "juna tuli talolla",
        "soitto soi talossa",
        "taito on talossa",
        "talo ja sauna iltana",
        "aurinko oli talolla"
      ]
    },
    {
      id: "fi-l5-words-2",
      group: "Lesson 5 – I + O (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 2 – longer sentences",
      tag: "L5",
      fingerHints: true,
      segments: [
        "juna tuli talolla kun ilta oli lauha",
        "aurinko oli talolla ja sauna soi",
        "saari oli talon takana iltana",
        "talo ja sauna toi illan rauhan",
        "taito soitti kitaraa talolla",
        "ruoka oli uunissa ja talo tuoksui",
        "ilta toi talolla rauhaa ja laulaa",
        "aurinko alla saari ja talo oli rauhaisa"
      ]
    },
    {
      id: "fi-l5-long-1",
      group: "Lesson 5 – I + O (FI)",
      category: "Long practice",
      language: "fi",
      label: "Long practice – calm evening story",
      tag: "L5",
      fingerHints: true,
      segments: [
        "ilta aurinko loisti talon yli rauhassa",
        "saari ja talo oli aurinko alla",
        "talo ja sauna tuoksui ruualta ja laulaa",
        "juna kulki talon ohi rauhallista rataa",
        "saara istui talossa ja kuuntii soittoa",
        "taito soitti kitaraa hiljaa talolla",
        "aurinko laski hitaasti talon taassa",
        "ilta toi talolla rauhaa ja laulua"
      ]
    },

    // -----------------------------------------------------------------------
    // English – Lesson 1 (home row)
    // -----------------------------------------------------------------------
    {
      id: "en-l1-intro",
      group: "Lesson 1 – Home Row (EN)",
      category: "Introduction",
      language: "en",
      label: "Home row – basic patterns",
      tag: "L1",
      fingerHints: true,
      segments: [
        "asdf asdf asdf asdf",
        "jklö jklö jklö jklö",
        "as as as df df df",
        "jk jk jk lö lö lö",
        "aa ss dd ff jj kk ll öö",
        "asdf jklö asdf jklö",
        "as df as df as df",
        "la lö la lö la lö"
      ]
    },
    {
      id: "en-l1-tech-1",
      group: "Lesson 1 – Home Row (EN)",
      category: "Technique",
      language: "en",
      label: "Technique drill 1 – left ↔ right hand",
      tag: "L1",
      fingerHints: true,
      segments: [
        "as lö as lö",
        "df jk df jk",
        "sa ja sa lö",
        "la ja la lö",
        "as as jk lö as as jk lö",
        "asdf jklö asdf jklö",
        "as jl df lö",
        "sa jk df lö"
      ]
    },
    {
      id: "en-l1-tech-2",
      group: "Lesson 1 – Home Row (EN)",
      category: "Technique",
      language: "en",
      label: "Technique drill 2 – small jumps",
      tag: "L1",
      fingerHints: true,
      segments: [
        "asa sassa asda asfa",
        "jaka lajka jakla",
        "sala sala sala sala",
        "asdf sadf asdf sadf",
        "jklö lökj jklö lökj",
        "asla asla laas laas",
        "lasj ljas salj jalas",
        "asöf sjöf jasf fasö"
      ]
    },
    {
      id: "en-l1-tech-3",
      group: "Lesson 1 – Home Row (EN)",
      category: "Technique",
      language: "en",
      label: "Technique drill 3 – mixed rhythm",
      tag: "L1",
      fingerHints: true,
      segments: [
        "as as asdf asdf",
        "sa sa saas saas",
        "la la laal laal",
        "lö lö lööl lööl",
        "as la asla asla",
        "ja sa jasa jasa",
        "öf löf löf öf",
        "jasl sjal ljas asjl"
      ]
    },
    {
      id: "en-l1-words-1",
      group: "Lesson 1 – Home Row (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – simple shapes",
      tag: "L1",
      fingerHints: true,
      segments: [
        "falla jalla skaala",
        "kölö kalla jalla",
        "jalla skalla fassa",
        "löla skaala kalla",
        "skalla fassa jalla",
        "falla skalla jallaa",
        "kalla skaala fassalla",
        "skallafalla jallassa"
      ]
    },

    // -----------------------------------------------------------------------
    // English – Lesson 2 (add r, u)
    // -----------------------------------------------------------------------
    {
      id: "en-l2-intro",
      group: "Lesson 2 – r, u (EN)",
      category: "Introduction",
      language: "en",
      label: "Add r and u – basic patterns",
      tag: "L2",
      fingerHints: true,
      segments: [
        "ruru ruru ruru",
        "ur ur ur ur",
        "rr uu rr uu",
        "ra ru ra ru",
        "ruff rurr ruff",
        "asru asru asru",
        "fur fur fur"
      ]
    },
    {
      id: "en-l2-tech-1",
      group: "Lesson 2 – r, u (EN)",
      category: "Technique",
      language: "en",
      label: "Technique drill 1 – focus on r/u",
      tag: "L2",
      fingerHints: true,
      segments: [
        "ru ru ra ra",
        "ur ur ar ar",
        "asru asru asru",
        "rur asf rur asf",
        "rujl rujl rujl",
        "frur frur frur",
        "rujr rufr rujr",
        "rulk rulk rulk"
      ]
    },
    {
      id: "en-l2-tech-2",
      group: "Lesson 2 – r, u (EN)",
      category: "Technique",
      language: "en",
      label: "Technique drill 2 – mix with home row",
      tag: "L2",
      fingerHints: true,
      segments: [
        "rrr uuu rrr uuu",
        "rural rural rural",
        "furra furra furra",
        "surra surra surra",
        "jarru jarru jarru",
        "sarur sarur sarur",
        "asru asru rura rura",
        "ruru rura ruru"
      ]
    },
    {
      id: "en-l2-tech-3",
      group: "Lesson 2 – r, u (EN)",
      category: "Technique",
      language: "en",
      label: "Technique drill 3 – mix patterns",
      tag: "L2",
      fingerHints: true,
      segments: [
        "rura asru rura asru",
        "ruru asru ruru asru",
        "suru sura sura suru",
        "rural rura rural rura",
        "furra furra furra furra",
        "rulk rulk rulk rulk",
        "jaru jura jaru jura",
        "asru rura asru rura"
      ]
    },
    {
      id: "en-l2-words-1",
      group: "Lesson 2 – r, u (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – pseudo-English r & u",
      tag: "L2",
      fingerHints: true,
      segments: [
        "rada rura aura rull aura",
        "rull aura kura rura löra",
        "lara rura rull ural aura",
        "löad röad rura aura rull",
        "rull aura lura rura löra",
        "saura rull aura rura löra",
        "rura rull aura rura röad",
        "lura rull aura rura löad"
      ]
    },
    {
      id: "en-l1-words-2",
      group: "Lesson 1 – Home Row (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – longer patterns",
      tag: "L1",
      fingerHints: true,
      segments: [
        "falla jalla dassa kalla",
        "kalla jalla fassa skalla",
        "löla skaala dassa kalla",
        "jalla kalla dassa skaala",
        "skalla fassalla kalla jalla",
        "falla skalla jallassa fassalla",
        "skallafalla kalla jallassa fassassa",
        "kallaskalla fassafalla jallaskalla"
      ]
    },
    {
      id: "en-l2-words-2",
      group: "Lesson 2 – r, u (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – longer pseudo-English",
      tag: "L2",
      fingerHints: true,
      segments: [
        "löad röad aura rull aura rura",
        "lura rull aura kura röad aura",
        "rura aura rull kurauralla",
        "löad aura rura rull kurauralla",
        "saura rull aura löad röad rura",
        "rullassa kurauralla aura rura",
        "rullakura aura rura löad röad",
        "kurauralla rullassa aura rura löad"
      ]
    },
    // -----------------------------------------------------------------------
    // English – Lesson 3 (add t, y)
    // -----------------------------------------------------------------------
    {
      id: "en-l3-words-1",
      group: "Lesson 3 – T + Y (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – readable pseudo-English",
      tag: "L3",
      fingerHints: true,
      segments: [
        "taly ruly aura",
        "lyra try ruly art",
        "rusty tally rulla",
        "try a tula ruly",
        "tally aura truly",
        "lyra truly ruly",
        "tary rula ruly",
        "aura ruly tally"
      ]
    },
    {
      id: "en-l3-words-2",
      group: "Lesson 3 – T + Y (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – longer pseudo-English",
      tag: "L3",
      fingerHints: true,
      segments: [
        "aura ruly tallys ala taly rulla",
        "lyra try a ruly tura tally",
        "a ruly aura rallys as lyra try rulla",
        "rusty ruly tulta as lyra truly try",
        "try a surly ruly tura ralla",
        "ruly tally truly alla aura ruly",
        "lyra try ruly tura tally ruly tray",
        "a truly aura ruly ala taly tray"
      ]
    },
    {
      id: "en-l3-long-1",
      group: "Lesson 3 – T + Y (EN)",
      category: "Long practice",
      language: "en",
      label: "Long practice – calm pseudo-English",
      tag: "L3",
      fingerHints: true,
      segments: [
        "aura stays at a tall rully",
        "lyra rulla aura tray",
        "a rully aura stays truly",
        "lyra stays at a rully ryty",
        "a rully tally stays tall",
        "aura rulla as rully stays",
        "lyra stays at a tall aura",
        "aura stays truly at a rully tray"
      ]
    },
    // -----------------------------------------------------------------------
    // English – Lesson 4 (add h, n)
    // -----------------------------------------------------------------------
    {
      id: "en-l4-words-1",
      group: "Lesson 4 – H + N (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – readable pseudo-English",
      tag: "L4",
      fingerHints: true,
      segments: [
        "hana runs alla sunny hall",
        "hanna nurrs alla sandy yard",
        "sunny aura hush hush",
        "a handy hana hurry",
        "han and hana hurry",
        "a funny hana runs",
        "hana hush a sunny run",
        "sunny hana and runny han"
      ]
    },
    {
      id: "en-l4-words-2",
      group: "Lesson 4 – H + N (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – longer pseudo-English",
      tag: "L4",
      fingerHints: true,
      segments: [
        "sunny hana runs alla sandy hall and hurry",
        "hanna nurrs alla sandy yard and hana runs",
        "runny han and hana hurry alla sunny yard",
        "a handy hana hurry and nanna runs sandy hall",
        "sunny han and hana hurry and runny hanna runs",
        "hana hush a sunny run and nanna hurry",
        "a sandy yard and sunny hall has hana and han",
        "hana and han hurry alla sunny sandy halls"
      ]
    },
    {
      id: "en-l4-long-1",
      group: "Lesson 4 – H + N (EN)",
      category: "Long practice",
      language: "en",
      label: "Long practice – calm pseudo-English with h & n",
      tag: "L4",
      fingerHints: true,
      segments: [
        "sunny hana stays at a rural ralla",
        "han stays at a sunny ralla",
        "hana and han rally at a rural aura",
        "a hushy aura stays at a rully ralla",
        "ralla hush as hana stays",
        "hana rulla a hush at a ralla",
        "han stays at a rully rural aura",
        "sunny hush stays at a rully ralla"
      ]
    },

    // -----------------------------------------------------------------------
    // English – Lesson 5 (add i, o)
    // -----------------------------------------------------------------------
    {
      id: "en-l5-words-1",
      group: "Lesson 5 – I + O (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – i & o words",
      tag: "L5",
      fingerHints: true,
      segments: [
        "road and sun and star",
        "soft hill and tall road",
        "kind soul and soft sun",
        "tall door and soft floor",
        "sun and road at hill",
        "star and roof and soft sun",
        "tall hill and soft road",
        "soft sun and tall hill"
      ]
    },
    {
      id: "en-l5-words-2",
      group: "Lesson 5 – I + O (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – longer pseudo-English",
      tag: "L5",
      fingerHints: true,
      segments: [
        "soft sun falls at road and roof",
        "road and hill stand in soft sun",
        "kind soul sits at tall hill",
        "tall road runs at soft sky",
        "soft sun and star stay at hill",
        "roof and road and tall hill stand",
        "soft floor and door stay in sun",
        "kind soul sits at soft sun road"
      ]
    },
    {
      id: "en-l5-long-1",
      group: "Lesson 5 – I + O (EN)",
      category: "Long practice",
      language: "en",
      label: "Long practice – calm pseudo-English",
      tag: "L5",
      fingerHints: true,
      segments: [
        "soft sun falls at tall road",
        "road and hill stand still in sun",
        "kind soul sits at tall hill",
        "soft floor and door stay still",
        "sun and star stay at hill",
        "road runs at hill and sun stays",
        "soft sky and sun stay tall",
        "kind soul sits at soft sun road"
      ]
    },

    // -----------------------------------------------------------------------
    // Finnish – Lesson 6 (add p, m)
    // -----------------------------------------------------------------------
    {
      id: "fi-l6-intro",
      group: "Lesson 6 – P + M (FI)",
      category: "Introduction",
      language: "fi",
      label: "Introduction – p & m basics",
      tag: "L6",
      fingerHints: true,
      segments: [
        "pa ma pa ma pa ma",
        "la pa la ma la pa",
        "sa ma sa pa sa ma",
        "ra ma ra pa ra ma",
        "ma pa ma pa ma pa",
        "pala mala pala mala",
        "mapa mapa mapa mapa",
        "pama pama lama lama"
      ]
    },
    {
      id: "fi-l6-tech-1",
      group: "Lesson 6 – P + M (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 1 – p & m jumps",
      tag: "L6",
      fingerHints: true,
      segments: [
        "pa ma pa ma pa ma",
        "apa ama apa ama apa",
        "lama lama mapa mapa",
        "sama sama pala pala",
        "pama pama lama rama",
        "maja maja mapa maja",
        "pala lama pala lama",
        "sapa sama sapa sama"
      ]
    },
    {
      id: "fi-l6-tech-2",
      group: "Lesson 6 – P + M (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 2 – mixed new keys",
      tag: "L6",
      fingerHints: true,
      segments: [
        "pala maala sala lama",
        "mapa rama lama pala",
        "sauma maala paalu maala",
        "pama maala sala maala",
        "pala sauma mapa maala",
        "maala pala maala mala",
        "sauma paalu maala sala",
        "lama maala paala maala"
      ]
    },
    {
      id: "fi-l6-tech-3",
      group: "Lesson 6 – P + M (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 3 – mixed rhythm",
      tag: "L6",
      fingerHints: true,
      segments: [
        "pa pa ma ma pa ma",
        "la la ma ma la pa",
        "sala maala pala sama",
        "pala lama sama maala",
        "paalu maala sauma maala",
        "maala hala paala lama",
        "pama paama maala lama",
        "sauma maala pala saama"
      ]
    },
    {
      id: "fi-l6-words-1",
      group: "Lesson 6 – P + M (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 1 – p & m words",
      tag: "L6",
      fingerHints: true,
      segments: [
        "pallo maassa palaa",
        "paalu makaa maassa",
        "maali palaa talolla",
        "maalaus alkaa aamulla",
        "pamaus kuuluu talolla",
        "maalaaja palaa aamulla",
        "sampo makaa saaralla",
        "paalu maalaa maata"
      ]
    },
    {
      id: "fi-l6-words-2",
      group: "Lesson 6 – P + M (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 2 – longer sentences",
      tag: "L6",
      fingerHints: true,
      segments: [
        "pallo makaa maassa ja paalu talolla",
        "maalaaja maalaa paalua aamulla aurassa",
        "pamaus kuuluu maalta ja pallo pomppaa alas",
        "sauma paalussa aukiaa ja maalaus alkaa",
        "maalaaja palaa maalla kun aamu alkaa",
        "paalu makaa maassa ja maali palaa maalla",
        "maassa makaa pallo ja paalu maalaa rajaa",
        "pamaus aaltoilaa maalla ja maalaaja alkaa laulaa"
      ]
    },
    {
      id: "fi-l6-long-1",
      group: "Lesson 6 – P + M (FI)",
      category: "Long practice",
      language: "fi",
      label: "Long practice – calm pm flow",
      tag: "L6",
      fingerHints: true,
      segments: [
        "aamu maalaa maata talolla rauhassa",
        "paalu maassa ja pallo makaa alla",
        "maalaaja laulaa aamulla ja maalaus alkaa",
        "pamaus kantaa maalla ja pallo pomppaa taas",
        "maassa palaa maali kun aamun aura nousu",
        "saari makaa maran alla ja paalu aaltoilaa",
        "maali maalaa laulaa maassa rauhallista aamua",
        "paalu ja maali maassa aamulla hiljaa"
      ]
    },

    // -----------------------------------------------------------------------
    // English – Lesson 6 (add p, m)
    // -----------------------------------------------------------------------
    {
      id: "en-l6-words-1",
      group: "Lesson 6 – P + M (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – p & m words",
      tag: "L6",
      fingerHints: true,
      segments: [
        "map lamp amp palm",
        "spam ramp lamp map",
        "small lamp aura lull",
        "lamp and map stay tall",
        "map stays tall at ramp",
        "lamp lays at small palm",
        "palm lamp stays tall",
        "map and palm stay tall"
      ]
    },
    {
      id: "en-l6-words-2",
      group: "Lesson 6 – P + M (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – longer pseudo-English",
      tag: "L6",
      fingerHints: true,
      segments: [
        "a small lamp stays tall at a palm",
        "map stays tall at a small ramp",
        "lamp and palm stay tall and still",
        "a small ramp stays at a tall lamp",
        "map stays tall at a small palm",
        "lamp stays softly at a tall palm",
        "a palm and a lamp stay tall all day",
        "a tall lamp stays at a palm"
      ]
    },
    {
      id: "en-l6-long-1",
      group: "Lesson 6 – P + M (EN)",
      category: "Long practice",
      language: "en",
      label: "Long practice – calm pseudo-English pm-flow",
      tag: "L6",
      fingerHints: true,
      segments: [
        "a small lamp stays still at a palm",
        "palm and lamp stay still in sun",
        "map stays still at a tall ramp",
        "lamp stays tall as palm stands still",
        "a lamp stays still at a palm at sun",
        "palm and lamp stand still and tall",
        "map and lamp stay still at tall palm",
        "a tall lamp stays softly at a palm"
      ]
    },

    // -----------------------------------------------------------------------
    // Finnish – Lesson 8 (add e, v)
    // -----------------------------------------------------------------------
    {
      id: "fi-l8-intro",
      group: "Lesson 8 – E + V (FI)",
      category: "Introduction",
      language: "fi",
      label: "Introduction – e & v patterns",
      tag: "L8",
      fingerHints: true,
      segments: [
        "ve ve ve ve",
        "se ve se ve",
        "le re le re",
        "va vä va vä",
        "la le la le",
        "ra re ra re",
        "me ve me ve",
        "valo vesi valo vesi"
      ]
    },
    {
      id: "fi-l8-tech-1",
      group: "Lesson 8 – E + V (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 1 – basic e & v jumps",
      tag: "L8",
      fingerHints: true,
      segments: [
        "ve se ve se ve se",
        "le re le re le re",
        "va ve va ve va ve",
        "me ve me ve me ve",
        "sa se sa se sa se",
        "la le la le la le",
        "re ve re ve re ve",
        "vesi vesi valo valo"
      ]
    },
    {
      id: "fi-l8-tech-2",
      group: "Lesson 8 – E + V (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 2 – mixed with older keys",
      tag: "L8",
      fingerHints: true,
      segments: [
        "vesa pelaa velan pois",
        "vesi virtaa leveässä uomassa",
        "valo velvoittaa hereillä olemaan",
        "laiva lepää rauhallisessa vedessä",
        "kevät lämmittää leveää laaksoa",
        "levä väreilee veden pinnalla",
        "veera leikkii vedessä ja nauraa",
        "saari lepää veden äärellä hiljaa"
      ]
    },
    {
      id: "fi-l8-tech-3",
      group: "Lesson 8 – E + V (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 3 – mixed rhythm",
      tag: "L8",
      fingerHints: true,
      segments: [
        "vesi virtaa valo välkkyy",
        "kevät herää veden yllä",
        "veera seuraa veden reunoja",
        "leveä joki vie venettä eteenpäin",
        "valo leikkii veden väreissä",
        "leveä leveä leveä leveä",
        "vesi valo vesi valo vesi",
        "veera vetää venettä leveässä vedessä"
      ]
    },
    {
      id: "fi-l8-words-1",
      group: "Lesson 8 – E + V (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 1 – e & v words",
      tag: "L8",
      fingerHints: true,
      segments: [
        "vesi virtaa verkkaisesti",
        "valo värisee vedessä",
        "kevät herää leveässä laaksossa",
        "veera seuraa veden väreitä",
        "veljet vetävät venettä",
        "vesa seisoo veden vierellä",
        "levä lepää veden alla",
        "vesi ja valo tekevät elämän"
      ]
    },
    {
      id: "fi-l8-words-2",
      group: "Lesson 8 – E + V (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 2 – longer sentences",
      tag: "L8",
      fingerHints: true,
      segments: [
        "vesi virtaa hiljaa ja leveä joki vie venettä eteenpäin",
        "veera seuraa veden väreitä ja katsoo miten valo leikkii",
        "kevät herää ja leveä laakso täyttyy vedestä ja valosta",
        "veljet vetävät venettä ja nauravat veden äärellä",
        "valo välkkyy vedessä ja tekee keväästä elävän",
        "vesa seisoo rannalla ja katsoo veteen mietteliäänä",
        "levä liikkuu veden mukana ja väreilee valossa",
        "vesi ja valo ja kevät tekevät maisemasta levollisen"
      ]
    },
    {
      id: "fi-l8-long-1",
      group: "Lesson 8 – E + V (FI)",
      category: "Long practice",
      language: "fi",
      label: "Long practice – river and light",
      tag: "L8",
      fingerHints: true,
      segments: [
        "vesi virtaa hiljaa leveässä uomassa ja valo lepää pinnalla",
        "veera kulkee veden vierellä ja katsoo kuinka virta elää",
        "laakso on leveä ja kevät herää veden ja valon välissä",
        "veljet vetävät venettä rauhassa ja joki vie heitä eteenpäin",
        "veden väreilevä pinta heijastaa kevään pehmeää valoa",
        "ranta on lämmin ja leveä ja vesan jalat lepää hiekassa",
        "vesi ja valo tekevät päivästä kevyen ja levollisen",
        "ilta lähenee mutta virta jatkaa ja valo viipyy vielä vedessä"
      ]
    },

    // -----------------------------------------------------------------------
    // English – Lesson 8 (add e, v)
    // -----------------------------------------------------------------------
    {
      id: "en-l8-words-1",
      group: "Lesson 8 – E + V (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – e & v words",
      tag: "L8",
      fingerHints: true,
      segments: [
        "ever safe and easy",
        "soft level river eve",
        "even river eve ever",
        "leave every heavy fear",
        "seven soft rivers ever",
        "safe haven near river",
        "ever live and feel",
        "a very soft eve"
      ]
    },
    {
      id: "en-l8-words-2",
      group: "Lesson 8 – E + V (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – longer pseudo-English",
      tag: "L8",
      fingerHints: true,
      segments: [
        "a soft river level moves at a very easy eve",
        "ever the river moves and the eve feels safe",
        "seven river veils move over a level eve",
        "a safe haven lives near the river eve",
        "every soft eve the river moves very soft",
        "ever the river leaves every heavy feel",
        "a very soft lite rests over the level river",
        "even the sky feels level as the river is safe"
      ]
    },
    {
      id: "en-l8-long-1",
      group: "Lesson 8 – E + V (EN)",
      category: "Long practice",
      language: "en",
      label: "Long practice – soft river evening",
      tag: "L8",
      fingerHints: true,
      segments: [
        "a soft river moves easy under a very easy eve",
        "every level river travels silent over the eve",
        "a safe haven rests near the side of the river",
        "ever soft the eve feels safe and still",
        "a soft lite settles over leaves and stone",
        "the river never hurries it only ever moves",
        "every air feels lit near the level river",
        "a very soft eve rises as the river keeps its rate"
      ]
    },

    // -----------------------------------------------------------------------
    // Finnish – Lesson 7 (add ä, å)
    // -----------------------------------------------------------------------
    {
      id: "fi-l7-intro",
      group: "Lesson 7 – Ä + Å (FI)",
      category: "Introduction",
      language: "fi",
      label: "Introduction – ä & å basics",
      tag: "L7",
      fingerHints: true,
      segments: [
        "äå äå äå äå",
        "sä lää sä lää",
        "mä pä mä pä",
        "rä nä rä nä",
        "lä äå lä äå",
        "mä lää mä lää",
        "pää lää pää lää",
        "åsa ässä läämä ääå"
      ]
    },
    {
      id: "fi-l7-tech-1",
      group: "Lesson 7 – Ä + Å (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 1 – ä & å jumps",
      tag: "L7",
      fingerHints: true,
      segments: [
        "lä lä ää äå",
        "sä äå sä äå",
        "pää lää pää lää",
        "mä äå mä äå",
        "råå låå råå låå",
        "sä pää lä mä",
        "pä lää sä mä",
        "åla åsä åmä ålä"
      ]
    },
    {
      id: "fi-l7-tech-2",
      group: "Lesson 7 – Ä + Å (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 2 – mixed ä & å",
      tag: "L7",
      fingerHints: true,
      segments: [
        "määrä päällä ääni lämmittää",
        "säätä päällä lämmin ääni",
        "päämäärä nousu lällä",
        "lämmä päällä ässä äännä",
        "ääni päällä lämmin sää",
        "säätää päällä lämmin ääni",
        "päällä lämmin ääni lämä",
        "määrä päällä ääni laulaa"
      ]
    },
    {
      id: "fi-l7-tech-3",
      group: "Lesson 7 – Ä + Å (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 3 – mixed rhythm",
      tag: "L7",
      fingerHints: true,
      segments: [
        "päällä lämmin ääni laulaa",
        "säätää lämmön päällä ääni soi",
        "määrä päällä ääni nousu",
        "ääni lässä päällä lämmää",
        "päällä ääni soi lämmin pää",
        "säätää äära lämmin ääni",
        "määrä päällä nousu ääni",
        "lämmä päällä ääni soittaa"
      ]
    },
    {
      id: "fi-l7-words-1",
      group: "Lesson 7 – Ä + Å (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 1 – ä & å words",
      tag: "L7",
      fingerHints: true,
      segments: [
        "tässä ääni päällä",
        "määrä säällä lämmittää",
        "äära päällä lämmin sää",
        "sää päällä ääni laulaa",
        "päämäärä äära nousu",
        "ääni lässä lämmin pää",
        "mä päällä päässä ääni",
        "lämmä ääni päässä sää"
      ]
    },
    {
      id: "fi-l7-words-2",
      group: "Lesson 7 – Ä + Å (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 2 – longer sentences",
      tag: "L7",
      fingerHints: true,
      segments: [
        "ääni nousu määrän päällä aamu lämmössä",
        "päällä lämmin sää laulaa äära saaran päässä",
        "määrä ja päämäärä nousu ääni läpi",
        "ääni laulaa päällä kun lämmin sää saapuu",
        "saaralla ääni soi päällä ja lämmin sää liikkuu",
        "äära päällä lämmin ääni nousu hiljaa",
        "päällä lämmin sää tuo ääni kauas",
        "lämmä ääni päällä laulaa hiljaista säätä"
      ]
    },
    {
      id: "fi-l7-long-1",
      group: "Lesson 7 – Ä + Å (FI)",
      category: "Long practice",
      language: "fi",
      label: "Long practice – calm ä+å story",
      tag: "L7",
      fingerHints: true,
      segments: [
        "ääni nousu päällä kun lämmin sää kulku saaran äära",
        "saaralla ääni laulaa lämmössä ja määrä laa päällä",
        "päämäärä näkyy äära ja lämmin ääni kantaa kauas",
        "lämmin sää päällä ja ääni laulaa hiljaa rannalla",
        "säätää ääni päällä ja lämmin ääni kulku rauhassa",
        "ääni ja lämmin sää päällä tuo äära laulaan",
        "saaralla lämmin ääni päällä nousu ja kantaa",
        "päällä ääni laulaa kun lämmin sää kulku hiljaa"
      ]
    },

    // -----------------------------------------------------------------------
    // English – Lesson 7 (add ä, å)
    // -----------------------------------------------------------------------
    {
      id: "en-l7-words-1",
      group: "Lesson 7 – Ä + Å (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – pseudo-English with ä & å",
      tag: "L7",
      fingerHints: true,
      segments: [
        "låå aura läö tall",
        "säå sky läö tall",
        "låna star ralla",
        "säår aura låft far",
        "a rååm läö soft",
        "tall rååd låån aura",
        "såft aura läö tall",
        "råad låån tall rååm"
      ]
    },
    {
      id: "en-l7-words-2",
      group: "Lesson 7 – Ä + Å (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – longer pseudo-English",
      tag: "L7",
      fingerHints: true,
      segments: [
        "a rååm läö softly at a låan",
        "säål aura stays at rååd",
        "låna sky läöy at rååm",
        "tälla aura läö at råad",
        "rååd ja låna läö auraa",
        "säål aura runs at råån sky",
        "läö lifts rååd ja låna sky",
        "a tall råån läö stays låå"
      ]
    },
    {
      id: "en-l7-long-1",
      group: "Lesson 7 – Ä + Å (EN)",
      category: "Long practice",
      language: "en",
      label: "Long practice – calm pseudo-English with ä & å",
      tag: "L7",
      fingerHints: true,
      segments: [
        "a låna aura läö at rååd as aura stays",
        "säål aura stays at råån hill and läö soft",
        "a rååm läö stays tall as låna sky lays",
        "rååd läö runs at soft aura",
        "säål aura lays lull and råån air läö soft",
        "låna sky läö soft as rååd runs far",
        "a rååm läö stays tall in låna aura",
        "rååd läö softly at säål aura"
      ]
    },

    // -----------------------------------------------------------------------
    // Finnish – Lesson 9 (add g, b)
    // -----------------------------------------------------------------------
    {
      id: "fi-l9-intro",
      group: "Lesson 9 – G + B (FI)",
      category: "Introduction",
      language: "fi",
      label: "Introduction – g & b basics",
      tag: "L9",
      fingerHints: true,
      segments: [
        "ga ba ga ba ga ba",
        "ag bag ag bag ag",
        "lag bag lag bag",
        "gab gab gab gab",
        "baga laga baga laga",
        "gala bala gala bala",
        "boga laga boga laga",
        "bingo bagel bingo bagel"
      ]
    },
    {
      id: "fi-l9-tech-1",
      group: "Lesson 9 – G + B (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 1 – g & b jumps",
      tag: "L9",
      fingerHints: true,
      segments: [
        "ga ba ga ba ga ba",
        "aga agb aga agb",
        "baga laga baga laga",
        "gab gab gab laga",
        "bingo bango bingo bango",
        "gaga baba gaga baba",
        "bagu laga bagu laga",
        "boga laga boga laga"
      ]
    },
    {
      id: "fi-l9-tech-2",
      group: "Lesson 9 – G + B (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 2 – mixed with older keys",
      tag: "L9",
      fingerHints: true,
      segments: [
        "bagel paistuu lämpimänä aamuna",
        "bingo alkaa iltana ja väki saapuu",
        "blogi laajenee ja saa lisää lukijoita",
        "banaali laulu kaikuu laaksossa",
        "berg nousee näkyviin sumun takaa",
        "galleria avaa ovensa valoisana aamuna",
        "bagu lämmittää nälkäisen mielen",
        "bingo tuo iloa saariston iltaan"
      ]
    },
    {
      id: "fi-l9-tech-3",
      group: "Lesson 9 – G + B (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 3 – mixed rhythm",
      tag: "L9",
      fingerHints: true,
      segments: [
        "blogi kasvaa ja bingo soi illassa",
        "bagu paistuu ja galleria avaa ovensa",
        "berg nousee ja valo leikkii vedessä",
        "banaali laulu kaikuu lämpimästi",
        "gabba laga gabba baba",
        "bingo bagel blogi berg",
        "bagel paistuu ja valo välkkyy",
        "laulu kulkee läpi bergin varjon"
      ]
    },
    {
      id: "fi-l9-words-1",
      group: "Lesson 9 – G + B (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 1 – g & b words",
      tag: "L9",
      fingerHints: true,
      segments: [
        "blogi bingo bagel",
        "banaali berg bingo",
        "galleria bagel gabba",
        "bagu lämmin bagel",
        "berg valo bingo",
        "bingo laulaa illassa",
        "blogi kasvaa aina",
        "gabba laulaa bergillä"
      ]
    },
    {
      id: "fi-l9-words-2",
      group: "Lesson 9 – G + B (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 2 – longer sentences",
      tag: "L9",
      fingerHints: true,
      segments: [
        "blogi kasvaa kun banaali berg näkyy valossa",
        "bingo alkaa iltana ja väki saapuu rannalle",
        "bagel paistuu lämpimänä ja tuo iloa aamulle",
        "galleria avaa ovensa ja valo lämmittää salia",
        "berg kohoaa jyrkästi ja varjo liikkuu vedessä",
        "bingo soi ja laulu kaikuu läpi pitkän illan",
        "bagu paistuu nuotion äärellä ja lämmin ilma kantaa",
        "blogi kertoo tarinaa saaresta ja sen bergistä"
      ]
    },
    {
      id: "fi-l9-long-1",
      group: "Lesson 9 – G + B (FI)",
      category: "Long practice",
      language: "fi",
      label: "Long practice – calm story with g & b",
      tag: "L9",
      fingerHints: true,
      segments: [
        "bingo alkaa lämpimänä iltana ja berg näkyy taustalla",
        "valo heijastuu vedestä ja bagel paistuu nuotion äärellä",
        "blogi kertoo tarinoita saaresta ja sen hiljaisista illoista",
        "galleria rannalla avaa ovensa ja väki kulkee sisään",
        "berg nousee jylhänä ja varjo liikkuu veden yllä",
        "bagu ja bagel maistuvat lämpimiltä illan hämyssä",
        "banaali laulu kaikuu ja tuo yöhon lempeän rytmin",
        "ilta kulkee rauhassa ja bingo soi taustalla hillitysti"
      ]
    },

    // -----------------------------------------------------------------------
    // English – Lesson 9 (add g, b)
    // -----------------------------------------------------------------------
    {
      id: "en-l9-words-1",
      group: "Lesson 9 – G + B (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – g & b words",
      tag: "L9",
      fingerHints: true,
      segments: [
        "big bag gab grab",
        "brag big bag gab",
        "gab lag bag big",
        "grab big bag bog",
        "big brag gab bag",
        "gab bag big brag",
        "bag big brag gab",
        "grab gab bag big"
      ]
    },
    {
      id: "en-l9-words-2",
      group: "Lesson 9 – G + B (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – longer pseudo-English",
      tag: "L9",
      fingerHints: true,
      segments: [
        "a big gleam began above the long bay",
        "bag and bog gleam under a bright aura",
        "bragging lite began to gleam again",
        "grab a big bag and begin the long run",
        "a long gleam drifts above the bog lane",
        "bright bags gleam softly in the bay",
        "global gleam brings mild light",
        "a bright gleam began rising over bay"
      ]
    },
    {
      id: "en-l9-long-1",
      group: "Lesson 9 – G + B (EN)",
      category: "Long practice",
      language: "en",
      label: "Long practice – calm pseudo-English with g & b",
      tag: "L9",
      fingerHints: true,
      segments: [
        "a bright gleam begins along the bay as evening settles",
        "big shades gather but the soft gleam stays mild",
        "a long gleam drifts above bog land and brings mild air",
        "bright bags move softly as air begins to rise",
        "the bay glitters as global gleam in soft fading light",
        "a gentle gleam begins again along the long path",
        "big mild bays bring the soft golden gleam",
        "beneath the bay the long gleam lingers easy"
      ]
    },

    // -----------------------------------------------------------------------
    // Finnish – Lesson 10 (SHIFT)
    // -----------------------------------------------------------------------
    {
      id: "fi-l10-intro",
      group: "Lesson 10 – SHIFT (FI)",
      category: "Introduction",
      language: "fi",
      label: "Introduction – capital letters (balanced)",
      tag: "L10",
      fingerHints: true,
      segments: [
        "A a A a  B b B b",
        "D d D d  E e E e",
        "F f F f  G g G g",
        "H h H h  I i I i",
        "J j J j  K k K k",
        "L l L l  M m M m",
        "N n N n  O o O o",
        "P p P p  R r R r",
        "S s S s  T t T t",
        "U u U u  V v V v  Y y Y y",
        "Ä ä Ä ä  Å å Å å  Ö ö Ö ö"
      ]
    },
    {
      id: "fi-l10-tech-1",
      group: "Lesson 10 – SHIFT (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 1 – single capitals across the alphabet",
      tag: "L10",
      fingerHints: true,
      segments: [
        "A S D F J K L Ö",
        "R U T Y H N I O",
        "P M Ä Å E V G B",
        "A R S L Ä O V T",
        "M P H Y Ö I U G",
        "B E K N A L R Ä",
        "Å O T J U S M G",
        "V H R A P N Ö Ä"
      ]
    },
    {
      id: "fi-l10-tech-2",
      group: "Lesson 10 – SHIFT (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 2 – capital words (balanced use)",
      tag: "L10",
      fingerHints: true,
      segments: [
        "Lumi Sade Meri Aava",
        "Veera Jari Lauri Saana",
        "Ääni Rinne Öinen Vaara",
        "Paula Olli Nelli Arvo",
        "Rauha Välkkyi Laaksossa",
        "Meri Näytti Valon Hiljaa",
        "Gaalan Pieni Bandi Soi",
        "Åsa Löysi Älykkään Oven"
      ]
    },
    {
      id: "fi-l10-tech-3",
      group: "Lesson 10 – SHIFT (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 3 – flow phrases",
      tag: "L10",
      fingerHints: true,
      segments: [
        "Aava Näkee Meressä Öisen Valon",
        "Jari Kantaa Pienen Ämpärin Mukanaan",
        "Saana Löytää Åsan Pieneltä Polulta",
        "Rinne Kimaltaa Aamulla Hiljaa",
        "Olli Kuuntelee Ääntä Järven Yllä",
        "Meri Leijuu Pehmeästi Valossa",
        "Bandi Soittaa Gaoa Hiljaa",
        "Veera Näkee Pienen Öisen Kipinän"
      ]
    },
    {
      id: "fi-l10-words-1",
      group: "Lesson 10 – SHIFT (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 1 – capital words (balanced)",
      tag: "L10",
      fingerHints: true,
      segments: [
        "Aava Saana Veera Jari",
        "Lauri Nelli Åsa Oona",
        "Rami Beni Elli Ossi",
        "Paula Äiti Vesa Mika",
        "Ääni Öljy Aalto Kivi",
        "Gobi Baga Runo Lohi",
        "Saari Meri Joki Laakso",
        "Aamu Hymy Öinen Rinne"
      ]
    },
    {
      id: "fi-l10-words-2",
      group: "Lesson 10 – SHIFT (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 2 – capital sentences (balanced)",
      tag: "L10",
      fingerHints: true,
      segments: [
        "Aava Näkee Rannan Ja Kuulee Hiljaisen Äänen.",
        "Saana Kulkee Polkua, Ja Veera Seuraa Rauhassa.",
        "Lauri Nostaa Kiven Ja Oona Katsoo Vierestä.",
        "Nelli Näkee Öisen Valon Ja Paula Kuuntelee.",
        "Meri Kimaltaa Aamulla Ja Rinne Herää Elämään.",
        "Jari Löytää Åsan Aurinkoiselta Rinteeltä.",
        "Ääni Nousee Laaksosta Ja Olli Seuraa Sitä.",
        "Beni Kulkee Järven Viertä Ja Vesa Tulee Perässä."
      ]
    },
    {
      id: "fi-l10-long-1",
      group: "Lesson 10 – SHIFT (FI)",
      category: "Long practice",
      language: "fi",
      label: "Long practice – calm balanced story",
      tag: "L10",
      fingerHints: true,
      segments: [
        "Aava Kulkee Rauhallisesti Rannan Suuntaan, Ja Meri Leikkii Valolla Hänen Ympärillään.",
        "Saana Ja Veera Näkevät Öisen Kipinän Järven Yllä, Ja He Asettuvat Hiljaa Kuuntelemaan.",
        "Meri Kuiskuttaa Rinteitä Vastaan, Ja Aamun Pehmeä Ääni Täyttää Laakson Rauhalla.",
        "Lauri Näkee Åsan Kauempana Polulla, Ja Yhdessä He Kulkevat Pehmeän Valaistuksen Läpi.",
        "Oona Katsoo Aavan Suuntaan Ja Hymyilee, Kun Hiljaiset Aallot Saapuvat Rantaan.",
        "Nelli Seuraa Valon Pientä Heijastusta, Ja Beni Löytää Pienen Kiven Joka Kimaltaa.",
        "Rinne Hengittää Aamua, Ja Olli Kuulee Kaukaisen Äänen, Joka Kutsuu Häntä Jatkaamaan.",
        "Paula Astuu Rannalle Ja Tuntee Rauhan, Joka Laskeutuu Auringon Noustessa."
      ]
    },

    // -----------------------------------------------------------------------
    // English – Lesson 10 (SHIFT)
    // -----------------------------------------------------------------------
    {
      id: "en-l10-words-1",
      group: "Lesson 10 – SHIFT (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – capital words (allowed alphabet)",
      tag: "L10",
      fingerHints: true,
      segments: [
        "AERA LAVA SOLE RISE",
        "DALE HILL LANE BEAM",
        "MOON GLEAM PURE EASE",
        "NEAR HOME SOFT AIR",
        "REAL HARM IDLE SHAPE",
        "AIMEE LENA MARA RINA",
        "EDEN ISLE RAIN BEAM",
        "AURA SOFT RISE LANE"
      ]
    },
    {
      id: "en-l10-words-2",
      group: "Lesson 10 – SHIFT (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – capital sentences (allowed alphabet)",
      tag: "L10",
      fingerHints: true,
      segments: [
        "AERA RISES AS SOFT AIR MOVES ALONG THE LANE.",
        "DALE HEARS A GENTLE HUM AND FEELS PURE EASE.",
        "MOON LIGHT RESTS NEAR THE HILL AND SHINES PALE.",
        "LENA SEES A MILD GLEAM AND STEPS NEAR THE LINE.",
        "A SOFT BEAM ENTERS THE HOME AND FEELS REAL.",
        "RAIN PASSES, AND A MILD AURA FLOATS IN EASE.",
        "RINA GOES ALONG THE LANE AND HEARS A SOFT HUM.",
        "A GENTLE GLEAM RISES NEAR THE RIM IN PALE AIR."
      ]
    },
    {
      id: "en-l10-long-1",
      group: "Lesson 10 – SHIFT (EN)",
      category: "Long practice",
      language: "en",
      label: "Long practice – calm pseudo-English (allowed alphabet)",
      tag: "L10",
      fingerHints: true,
      segments: [
        "A GENTLE GLEAM RISES NEAR THE LANE AS MILD AIR MOVES PAST THE RIM AND SETTLES OVER THE RIVER HOME.",
        "MOON LIGHT HANGS SOFTLY ABOVE THE HILL, AND A PALE AURA DRIFTS ALONG THE LINE IN A SOFT RHYTHM.",
        "RINA STEPS NEAR THE SHORE AND HEARS A SOFT HUM RING ALONG THE STONE AS THE LIGHT RESTS MILDLY.",
        "AERA GOES ALONG A NEAR TRAIL FEELING A MILD AIR PASS AND A GENTLE GLEAM RISE.",
        "A MILD BEAM FALLS ALONG THE RIM AND MOVES OVER THE GRASS, LEAVING A SOFT LINE OF PALE LIGHT.",
        "ALONG THE LANE, AIR FEELS PURE AND MILD, AND EVERY STEP BRINGS A FRESH HINT OF GENTLE AURA.",
        "A SOFT LIGHT PASSES OVER THE HILL AND SETTLES NEAR THE HOME, GIVING THE EARLY PATH A MILD TONE.",
        "NEAR THE SHORE, A PALE GLEAM MOVES AND A MILD HUM SOUNDS, BRINGING MILD RHYTHM TO THE DAY."
      ]
    },

    // -----------------------------------------------------------------------
    // Finnish – Lesson 13 (add x, z, q)
    // -----------------------------------------------------------------------
    {
      id: "fi-l13-intro",
      group: "Lesson 13 – X + Z + Q (FI)",
      category: "Introduction",
      language: "fi",
      label: "Introduction – x, z, q basics",
      tag: "L13",
      fingerHints: true,
      segments: [
        "xa xa za za qa qa",
        "ax ax az az aq aq",
        "xeni xala zeri qara",
        "mixi viza qina zali",
        "xalo zano qara xeni",
        "xa za qa xa za qa",
        "xala zala qala xala",
        "Xena Zali Qara Xeno"
      ]
    },
    {
      id: "fi-l13-tech-1",
      group: "Lesson 13 – X + Z + Q (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 1 – x/z/q patterns",
      tag: "L13",
      fingerHints: true,
      segments: [
        "mixi vaxa xami zeri qina",
        "xala zewa qara xira zena",
        "qena xano zeli qara xira",
        "xexa zaza qana xala zeri",
        "xari zena qina xeli zala",
        "ziri qina xera zana qeli",
        "xala xala zala zala qara",
        "xa za qa xa za qa"
      ]
    },
    {
      id: "fi-l13-tech-2",
      group: "Lesson 13 – X + Z + Q (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 2 – mixed pseudo-FI & real loanwords",
      tag: "L13",
      fingerHints: true,
      segments: [
        "xylitoli zeni zombi zero xeno",
        "qatar qina zirkoni xena qeni",
        "xalo kulkee zanan ohi ja qara seuraa",
        "ziri näkee xalon ja valo heijastuu",
        "qina liikkuu aavan yli ja zeni kantaa rauhaa",
        "xena palaa rannan laitaan ja qara hymyilee",
        "zero välähtää ja xalo herää",
        "mewa kohtaa xalan ja ziri pysähtyy"
      ]
    },
    {
      id: "fi-l13-tech-3",
      group: "Lesson 13 – X + Z + Q (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 3 – soft rhythm mix",
      tag: "L13",
      fingerHints: true,
      segments: [
        "xala qara zeni rauhassa aavan yllä",
        "zera näkee xalon ja valo pehmenee",
        "qara kulkee xenan rinnalla hiljaa",
        "zenin ääni kantaa yli aavan",
        "xani seuraa qinaa ja ziri lepää",
        "xala kohtaa qaran ja ranta hengittää",
        "zeli jää valoon ja qina jatkaa polkua",
        "xalo nousee ja zen palaa hiljalleen"
      ]
    },
    {
      id: "fi-l13-words-1",
      group: "Lesson 13 – X + Z + Q (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 1 – balanced mix (incl. 1 hupsu + 1 brand)",
      tag: "L13",
      fingerHints: true,
      segments: [
        "xala zeni qara xena ziri",
        "qina zala xero zali xana",
        "ziri zero xeno qina zala",
        "Zorro ajoi Zetorilla Qsamon läpi kuin quma ukko",
        "Twix vilahti Xboxin ohi ja zeni jäi taakse",
        "xena qara zeni zero xalo",
        "zali qena xeli ziri qina",
        "xala zala qara zeni xena"
      ]
    },
    {
      id: "fi-l13-words-2",
      group: "Lesson 13 – X + Z + Q (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 2 – longer phrases (incl. 1 hupsu + 1 brand)",
      tag: "L13",
      fingerHints: true,
      segments: [
        "xalo ja ziri kulkevat qaran kanssa aavan reunaa",
        "qina näkee zenin ja valo heijastuu rantaan",
        "zero jää aaltoon ja xalo seuraa polkua",
        "Zeni zappasi xilixin ja qara häkeltyi täysin",
        "Quattro syöksyi Xenan ohi kun Zamboni lauloi taustalla",
        "xena kuuntelee zalaa ja qara hymyilee",
        "ziri ja qina jatkavat matkaa xalan kanssa",
        "xalo kääntyy zenin puoleen ja qara pysähtyy"
      ]
    },
    {
      id: "fi-l13-long-1",
      group: "Lesson 13 – X + Z + Q (FI)",
      category: "Long practice",
      language: "fi",
      label: "Long practice – calm FI narrative with x/z/q",
      tag: "L13",
      fingerHints: true,
      segments: [
        "Xala Kulkee Aavan Reunaa, Ja Zeni Seuraa Hänen Vierellään. Valo Leijuu Hiljaa Yllä, Ja Qara Tuntee Rauhan Aamun Ensimmäisessä Hengähdyksessä.",
        "Ziri Näkee Xalon Välkkeen Veden Pinnalla, Ja Qina Astuu Lähemmäs Kuunnellen Pehmeää Aallon Ääntä. Aava Hengittää Hiljaisuutta, Ja Xena Pysähtyy Katsomaan Kuinka Zen Palaa.",
        "Xalo Jatkaa Polkua, Ja Zeni Kertoo Vanhan Tarinan Jonka Qara Muistaa. Auringon Valo Laskeutuu Aavalle, Ja Ranta Herää Hiljaiseen Liikkeeseen.",
        "Qina Kulkee Rinnan Xenan Kanssa, Ja Ziri Näkee Kuinka Aaltojen Reuna Kirjoittaa Lempeän Muodon Hiekkaan. Kaikki Liikkuu Rauhassa, Ja Xala Antaa Päivän Kävellä Vierellään."
      ]
    },

    // -----------------------------------------------------------------------
    // English – Lesson 13 (add x, z, q)
    // -----------------------------------------------------------------------
    {
      id: "en-l13-words-1",
      group: "Lesson 13 – X + Z + Q (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – x/z/q words",
      tag: "L13",
      fingerHints: true,
      segments: [
        "extra axis zone zero quiz",
        "quiet aqua equal mix size",
        "quill blaze relax haze",
        "exist extra zone quake",
        "aqua line relax cozy",
        "quick example quiet zero",
        "axis blaze mix zone",
        "quiet equal aqua size"
      ]
    },
    {
      id: "en-l13-words-2",
      group: "Lesson 13 – X + Z + Q (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – longer pseudo-English",
      tag: "L13",
      fingerHints: true,
      segments: [
        "Quiet Air Rises Beyond The Axis And Leaves A Soft Haze.",
        "Extra Light Moves Along The Zone And Meets A Calm Breeze.",
        "Zero Echoes Drift Toward The Ridge As Cozy Waves Rise.",
        "Aqua Light Shapes The Quiet Path And Brings Gentle Ease.",
        "Quake Lines Fade As Warm Air Covers The Long Axis.",
        "Equal Steps Lead Through The Breeze Into A Soft Zone.",
        "Relaxed Air Moves Beyond The Aqua Edge And Settles Quietly.",
        "Blaze Light Falls Over The Lake And Quiet Waves Follow."
      ]
    },
    {
      id: "en-l13-long-1",
      group: "Lesson 13 – X + Z + Q (EN)",
      category: "Long practice",
      language: "en",
      label: "Long practice – calm x/z/q narrative",
      tag: "L13",
      fingerHints: true,
      segments: [
        "Quiet Air Settles Over The Valley As Extra Light Moves Across The Water And Leaves A Soft Haze Above The Ridge. The Axis Of Morning Shifts Slowly, And Zero Echoes Rise From The Shoreline.",
        "Aqua Waves Roll Gently Toward The Lake Edge, And A Cozy Breeze Passes Through The Trees. Quiet Steps Follow The Path, And Every Move Brings A Calm Trace Of Warm Light.",
        "Beyond The Ridge, Blaze Light Touches The Hillside And Fades Into A Relaxed Glow. The Zone Opens Slowly, And Air Moves Softly Between The Branches With A Quiet Rhythm.",
        "Equal Lines Form Along The Water As A Gentle Quake Of Morning Light Settles Across The Shore, And Everything Rests Under A Calm And Soothing Ease."
      ]
    },

    // -----------------------------------------------------------------------
    // Finnish – Lesson 11 (add , . ; :)
    // -----------------------------------------------------------------------
    {
      id: "fi-l11-intro",
      group: "Lesson 11 – , . ; : (FI)",
      category: "Introduction",
      language: "fi",
      label: "Introduction – commas and periods",
      tag: "L11",
      fingerHints: true,
      segments: [
        ", , , ,",
        ". . . .",
        ", . , .",
        "a, a, a, a.",
        "sana, sana, sana.",
        "valo, vesi, virta.",
        "saari, meri, ranta.",
        "aamu, rauha, laulu."
      ]
    },
    {
      id: "fi-l11-tech-1",
      group: "Lesson 11 – , . ; : (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 1 – comma flow",
      tag: "L11",
      fingerHints: true,
      segments: [
        "aamu, aava, aalto, aurinko.",
        "saari, laulu, valo, virta.",
        "ranta, rauha, meri, aava.",
        "veera, aila, saara, aamu.",
        "valo, vesi, virta, vaara.",
        "laulu, taivas, aalto, aava.",
        "saara, veera, aila, laakso.",
        "maa, metsä, laakso, ranta."
      ]
    },
    {
      id: "fi-l11-tech-2",
      group: "Lesson 11 – , . ; : (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 2 – semicolon & colon",
      tag: "L11",
      fingerHints: true,
      segments: [
        "aamu; laulu; rauha; virta.",
        "valo; vesi; virta; ranta.",
        "saari: meri: taivas: aalto.",
        "laulu: aamu; valo: virta.",
        "veera: saara; aila: aava.",
        "meri; ranta; aalto; aava.",
        "valo: virta; taivas: laulu.",
        "aamu; aurinko; aalto: aava."
      ]
    },
    {
      id: "fi-l11-tech-3",
      group: "Lesson 11 – , . ; : (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 3 – mixed punctuation rhythm",
      tag: "L11",
      fingerHints: true,
      segments: [
        "aamu nousee, valo kulkee; taivas aukeaa.",
        "saari hengittää, meri laulaa: virta elää.",
        "veera kulkee rannalla, aila seuraa; aava hiljenee.",
        "valo välkkyy, aalto soi: taivas avaa aamun.",
        "laulu kantaa, virta liikkuu; rauha laskeutuu.",
        "aava lepää, meri kuiskaa; ranta odottaa.",
        "saara näkee, veera kuuntelee; aamu etenee.",
        "taivas avautuu, valo loistaa: päivä alkaa."
      ]
    },
    {
      id: "fi-l11-words-1",
      group: "Lesson 11 – , . ; : (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 1 – punctuation in phrases",
      tag: "L11",
      fingerHints: true,
      segments: [
        "aamu, aurinko, laulu.",
        "valo, vesi, virta.",
        "saari, meri, ranta.",
        "veera, saara, aila.",
        "aava, metsä, laakso.",
        "ranta, aalto, laulu.",
        "meri, valo, aamu.",
        "aurinko, virta, rauha."
      ]
    },
    {
      id: "fi-l11-words-2",
      group: "Lesson 11 – , . ; : (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 2 – longer sentences",
      tag: "L11",
      fingerHints: true,
      segments: [
        "Aamu herää hitaasti, valo kulkee laaksoon ja virta alkaa elää.",
        "Saara kulkee rannalle, veera seuraa mukana ja meri laulaa.",
        "Valo välkkyy vedessä, aalto kulkee rauhassa ja taivas avautuu.",
        "Veera istuu rannalla, aila seisoo vieressä ja aamu jatkuu.",
        "Laulu kantaa hiljaa, virta liikkuu lempeästi ja rauha laskeutuu.",
        "Aava maa avautuu, aurinko nousee ja valo täyttää laakson.",
        "Meri hengittää hitaasti, ranta odottaa ja aalto soi hiljaa.",
        "Aila näkee kauas, saara kuuntelee ja aamu on lempeä."
      ]
    },
    {
      id: "fi-l11-long-1",
      group: "Lesson 11 – , . ; : (FI)",
      category: "Long practice",
      language: "fi",
      label: "Long practice – calm Finnish punctuation",
      tag: "L11",
      fingerHints: true,
      segments: [
        "Aamu herää hiljaa, valo kulkee veden pinnalla ja virta elää uomassaan.",
        "Saari nukkuu vielä, meri hengittää rauhallisesti ja aalto soi hiljaisena.",
        "Veera katsoo laaksoon; ranta odottaa hiljaa; valo lämmittää aamua.",
        "Aila kulkee rannalla, vesi välkkyy ja taivas avautuu aamuun.",
        "Aava maa lepää, aurinko nousee: hetki on kevyt ja rauhaisa.",
        "Valo laskeutuu rinnettä pitkin, virta kantaa ääntä ja laulu herää.",
        "Ranta, meri ja laakso hengittävät samaa rytmiä; aamu kantaa sen kauas.",
        "Hiljainen tuuli kulkee, valo seuraa, ja aamu sulautuu rauhaan."
      ]
    },

    // -----------------------------------------------------------------------
    // English – Lesson 11 (add , . ; :)
    // -----------------------------------------------------------------------
    {
      id: "en-l11-words-1",
      group: "Lesson 11 – , . ; : (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – punctuation basics",
      tag: "L11",
      fingerHints: true,
      segments: [
        "Mild, Silent, Bright.",
        "River, Shore, Valley.",
        "Light, Air, River.",
        "Soft, Gentle, Fair.",
        "Morning, Aural, Rising.",
        "Gleam, Air, Mild.",
        "Land, River, Sky.",
        "Mild, Silent, Deep."
      ]
    },
    {
      id: "en-l11-words-2",
      group: "Lesson 11 – , . ; : (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – longer pseudo-English",
      tag: "L11",
      fingerHints: true,
      segments: [
        "Mild air rises, light gleams softly, and river moves on.",
        "Silent river runs, air bears ease, and sky opens.",
        "Bright morning rises, river gleams again, and valley rises.",
        "Soft light settles, mild air drifts, and hill stands still.",
        "The river gleams, the shore listens, and air hums.",
        "A mild gleam returns, river murmurs, and morning rises.",
        "Light moves softly, air rolls gently, and valley rests.",
        "River runs softly, air leans lightly, and day lifts."
      ]
    },
    {
      id: "en-l11-long-1",
      group: "Lesson 11 – , . ; : (EN)",
      category: "Long practice",
      language: "en",
      label: "Long practice – calm English punctuation",
      tag: "L11",
      fingerHints: true,
      segments: [
        "Morning arrives softly, light spreads gently, and river moves in mild rhythm.",
        "The valley rests silent, air bears mild heat, and river goes its old path.",
        "Silent light gleams on the soft river, air drifts by, and the shore listens gently.",
        "Soft air fills the hillside, river bends ahead, and morning begins to brighten.",
        "A mild gleam settles, air heats the tall grass, and the land feels steady again.",
        "The river breathes softly, day lifts over the valley, and ease moves in gentle rays.",
        "Light gleams, river listens, and air ends the soft rhythm of morning.",
        "Mild returns softly, river goes ahead, and the day begins in still ease."
      ]
    },

    // -----------------------------------------------------------------------
    // Finnish – Lesson 12 (add c, w)
    // -----------------------------------------------------------------------
    {
      id: "fi-l12-intro",
      group: "Lesson 12 – C + W (FI)",
      category: "Introduction",
      language: "fi",
      label: "Introduction – c & w basics (balanced case)",
      tag: "L12",
      fingerHints: true,
      segments: [
        "ca ca ca wa wa wa",
        "ca wa ca wa ca wa",
        "cala cala wawa wawa",
        "weca weca wera wera",
        "cawa cawa wewa wewa",
        "cala wewa cala wewa",
        "weca cala weca cala",
        "Cala Wera cala wera"
      ]
    },
    {
      id: "fi-l12-tech-1",
      group: "Lesson 12 – C + W (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 1 – c & w jumps (mostly lowercase)",
      tag: "L12",
      fingerHints: true,
      segments: [
        "ca wa ca wa ca wa",
        "we ca we ca we ca",
        "cala weca cala weca",
        "cawa wewa cawa wewa",
        "cawe cawe wawa weca",
        "awla cala weca awla cala",
        "weca cala weca cala",
        "cala wewa cala wewa"
      ]
    },
    {
      id: "fi-l12-tech-2",
      group: "Lesson 12 – C + W (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 2 – mixed with earlier keys",
      tag: "L12",
      fingerHints: true,
      segments: [
        "weca laama cala aavaa",
        "wera saari mewa cala",
        "cala liikkuu rannalla weca vierellä",
        "mewa seuraa calaa hiljaisesti",
        "laawa weca kantaa aavan valoa",
        "cala ja wera kulkevat rantaa",
        "weca jää aalloille ja cala palaa",
        "ranta hengittää kun cala ja wera saapuvat"
      ]
    },
    {
      id: "fi-l12-tech-3",
      group: "Lesson 12 – C + W (FI)",
      category: "Technique",
      language: "fi",
      label: "Technique drill 3 – soft rhythm with lowercase focus",
      tag: "L12",
      fingerHints: true,
      segments: [
        "cala weca ranta wewa rauha",
        "weca aavaa cala laawa meri",
        "cawa weca aamu aalloilla",
        "mewa leijuu calan yllä",
        "wera seuraa calaa valossa",
        "cala kääntyy wecan luo",
        "weca kantaa rauhaa rannalle",
        "cala lepää laawan alla"
      ]
    },
    {
      id: "fi-l12-words-1",
      group: "Lesson 12 – C + W (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 1 – c & w words (lowercase priority)",
      tag: "L12",
      fingerHints: true,
      segments: [
        "cala wera weca laawa",
        "mewa cala wera laari",
        "weca ranta cala aava",
        "cawa mewa weca rima",
        "sala cala weera mewa",
        "cala weca laawa rina",
        "weka cala laari mewa",
        "weca saari cala mewa"
      ]
    },
    {
      id: "fi-l12-words-2",
      group: "Lesson 12 – C + W (FI)",
      category: "Word practice",
      language: "fi",
      label: "Word practice 2 – longer soft phrases",
      tag: "L12",
      fingerHints: true,
      segments: [
        "cala kulkee aavaa kohti ja weca seuraa perässä",
        "weera ja mewa lepäävät calan vierellä rannalla",
        "cawa liikkuu valossa ja weca katsoo rauhassa",
        "mewa nousee hiljaa ja cala kulkee laawan alla",
        "ranta aukeaa ja cala näkee wecan loiston",
        "weca laulaa aalloissa ja cala kuuntelee",
        "cala vie laawan alle ja wera seuraa hiljaa",
        "aava herää kun cala ja weca saapuvat"
      ]
    },
    {
      id: "fi-l12-long-1",
      group: "Lesson 12 – C + W (FI)",
      category: "Long practice",
      language: "fi",
      label: "Long practice – calm c+w story (balanced)",
      tag: "L12",
      fingerHints: true,
      segments: [
        "Cala Kulkee Aavaa Kohden, Ja Wera Seuraa Hänen Vierellään Hiljaisen Aallon Rinnalla.",
        "Aava Välkkyy Lempeästi, Ja WeCa Liukuu Veden Pinnalla Kuin Kevyt Varjo.",
        "Ranta Kutsuu Heitä Lähemmäs, Ja Mewa Lentää Aamun Valossa Pehmeästi.",
        "Cala Jatkaa Hetken Matkaa Etupuolella, Ja Wera Hymyilee Kun WeCa Kuuluu Hiljaa.",
        "Valo Laskeutuu Rannan Ylle, Ja Cala Näkee Kuinka Aava Aukeaa Uuteen Päivään.",
        "WeCa Lepää Hetken Kivellä, Ja Mewa Liikkuu Keveästi Sen Ympärillä.",
        "Rauha Täyttää Rannan Kun Cala Ja Wera Saapuvat Laawan Varjoon.",
        "Cala Katsuu Aavan Suuntaan, Ja WeCa Välkkyy Auringon Ensimmäisessä Valossa."
      ]
    },

    // -----------------------------------------------------------------------
    // English – Lesson 12 (add c, w)
    // -----------------------------------------------------------------------
    {
      id: "en-l12-words-1",
      group: "Lesson 12 – C + W (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – c & w words (balanced)",
      tag: "L12",
      fingerHints: true,
      segments: [
        "calm wave warm air",
        "wide cove calm wind",
        "clear water new line",
        "we walk near calm cove",
        "soft calm wave area",
        "warm cove near lake",
        "calm wide valley",
        "we care about warm air"
      ]
    },
    {
      id: "en-l12-words-2",
      group: "Lesson 12 – C + W (EN)",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – longer pseudo-English",
      tag: "L12",
      fingerHints: true,
      segments: [
        "Calm Waves Move Near The Wide Cove And Leave A Warm Light.",
        "We Walk Along A Clear Path And Hear Calm Water Beside Us.",
        "Warm Air Rises Above The Water And Gives A Wide Aura.",
        "The Cove Carries A Calm Echo And Wind Moves Near The Lake.",
        "We Care About The Calm Area And Feel A Warm And Clear Ease.",
        "A Calm Wave Rolls Toward The Cove And Leaves A Soft Trail.",
        "We Are Moving Near The River And Watching Calm Water Glow.",
        "Warm Air Covers The Wide Path And We Follow It In Ease."
      ]
    },
    {
      id: "en-l12-long-1",
      group: "Lesson 12 – C + W (EN)",
      category: "Long practice",
      language: "en",
      label: "Long practice – calm c+w narrative (balanced)",
      tag: "L12",
      fingerHints: true,
      segments: [
        "Calm Water Moves Along The Wide Cove As Warm Air Rises And Leaves A Clear Trail Of Morning Light.",
        "We Walk Near The Lake And Follow A Wide Path That Leads Toward The River And Its Gentle Waves.",
        "Warm Air Moves Between The Trees And Calm Water Echoes Softly Against The Stone Edge.",
        "A Calm Wave Arcs Forward And Leaves A Clear Line Across The Surface Of The Water.",
        "Warm Light Covers The Area And A Calm Wind Moves Along The Ridge Toward The Valley.",
        "We Are Near The River When A Wide Beam Of Warm Light Appears Above The Trees.",
        "A Clear Wave Rolls Over The Shore And Warm Air Settles Along The Cove In A Gentle Rhythm.",
        "We Continue Along The Wide Path And Calm Water Follows Us With Every Mild Move Of The Wind."
      ]
    },
    // -----------------------------------------------------------------------
    // Finnish – long practice texts (general, not tied to L1 only)
    // -----------------------------------------------------------------------
    {
      id: "fi-long-1",
      group: "Long practice (FI)",
      category: "Long practice",
      language: "fi",
      label: "Long practice – rhythm and accuracy",
      tag: "Long",
      fingerHints: true,
      segments: [
        "Tässä harjoituksessa keskityt tasaiseen rytmiin.\nÄlä yritä olla mahdollisimman nopea, vaan tarkka.",
        "Kun kirjoitat rauhassa, oikeat sormet löytävät näppäimet vähitellen kuin itsestään.\nHengitä välillä syvään ja anna käsien rentoutua.",
        "Jos huomaat puristavasi hiirtä tai pöydän reunaa, rentouta ote tietoisesti.\nLyhyt tauko nyt säästää voimia myöhempää harjoittelua varten.",
        "Tämän harjoituksen aikana ei ole kiirettä.\nVoit toistaa saman segmentin useita kertoja, jos se tuntuu hyödylliseltä.",
        "Kun tarkkuus paranee, myös kirjoitusnopeus nousee vähitellen.\nMuutos ei ehkä näy heti, mutta kertyy hiljaa taustalla.",
        "Ajattele jokaista kirjainta pienenä askeleena eteenpäin.\nJokainen oikein kirjoitettu sana on osa uutta rutiinia.",
        "Jos teet virheen, älä hermostu.\nPaina vain Backspace ja kirjoita kohta uudelleen.",
        "Tarkkuus ennen nopeutta.\nKun tämä periaate on kunnossa, kaikki muu seuraa myöhemmin perässä."
      ]
    },
    {
      id: "fi-long-2",
      group: "Long practice (FI)",
      category: "Long practice",
      language: "fi",
      label: "Long practice – focus and small goals",
      tag: "Long",
      fingerHints: true,
      segments: [
        "Kun aloitat harjoituksen, päätä ensin hetki jonka käytät kirjoittamiseen.\nEsimerkiksi kymmenen minuuttia rauhallista keskittymistä riittää hyvin.",
        "Sulje mahdollisuuksien mukaan turhat ilmoitukset ja muut häiriötekijät.\nNäppäimistö ja teksti riittävät tähän hetkeen.",
        "Jos huomaat ajatusten karkaavan muualle, tuo huomio takaisin hengitykseen.\nSen jälkeen jatka kirjoittamista samaan rytmiin kuin ennenkin.",
        "Voit ajatella tekstiä pienenä polkuna, jota kuljet kirjain kirjaimelta.\nAskeleet ovat pieniä, mutta suunta pysyy samana.",
        "Harjoittelun ei tarvitse olla täydellistä.\nRiittää, että palaat näppäimistön ääreen säännöllisesti.",
        "Pienetkin parannukset ovat arvokkaita.\nKun katsot taaksepäin muutaman viikon kuluttua, ero voi olla yllättävän suuri.",
        "Anna itsellesi lupa oppia omaan tahtiin.\nKukaan ei synny kosketuskirjoittajaksi, vaan taidon oppii harjoittelemalla.",
        "Lopuksi voit huomata, miltä keho ja mieli tuntuvat.\nEhkä hengitys on tasaisempi ja sormet liikkuvat hieman varmemmin."
      ]
    },

    // -----------------------------------------------------------------------
    // English – long practice texts (general)
    // -----------------------------------------------------------------------
    {
      id: "en-long-1",
      group: "Long practice (EN)",
      category: "Long practice",
      language: "en",
      label: "Long practice – calm focus",
      tag: "Long",
      fingerHints: true,
      segments: [
        "In this exercise you focus on a calm and steady rhythm.\nDo not rush, even if the text looks simple at first.",
        "Type each word with as little force as possible.\nLet your fingers glide over the keys instead of pushing hard.",
        "If you make a mistake, simply press Backspace and try again.\nThere is no need to hurry to the end of the segment.",
        "Imagine that every correct letter is a small step forward.\nMany small steps in one direction become real progress.",
        "Try to keep your eyes on the text, not on the keyboard.\nTrust that your fingers will slowly learn where to go.",
        "If your thoughts start to wander, gently bring them back.\nNotice the feeling of each key as you press it down.",
        "The goal of this practice is not speed.\nIt is a quieter and more confident way of typing.",
        "When the text feels easier, you can move on to another lesson.\nUntil then, this segment is more than enough."
      ]
    },
    {
      id: "en-long-2",
      group: "Long practice (EN)",
      category: "Long practice",
      language: "en",
      label: "Long practice – building habits",
      tag: "Long",
      fingerHints: true,
      segments: [
        "Typing is easier when it becomes a habit.\nShort and regular sessions often work better than a single long one.",
        "You can choose a time of day that suits you.\nSome people like to practice in the morning, others in the evening.",
        "The important part is that you show up.\nEven five minutes of focused practice can make a difference.",
        "Over time, your fingers will remember common words.\nThey will appear on the screen almost before you notice it.",
        "If you skip a day, do not feel guilty.\nJust return to the keyboard and continue from where you stopped.",
        "Habits grow slowly, but they are powerful.\nOnce formed, they carry you even on tired days.",
        "This exercise is one small brick in the wall of your new skill.\nIt does not have to be perfect to be useful.",
        "Notice how you feel at the end of the practice.\nPerhaps your shoulders are a little less tense than before."
      ]
    },

    // -----------------------------------------------------------------------
    // Syntax – S1 (punctuation for code)
    // -----------------------------------------------------------------------
    {
      id: "syntax-s1-intro",
      group: "Syntax S1 – Punctuation",
      category: "Introduction",
      language: "en",
      label: "Introduction – balanced punctuation symbols",
      tag: "S1",
      fingerHints: true,
      segments: [
        ", . ; : _ - + * /",
        ",; .: _- +* /_",
        "_,.- _.-_ -._.",
        "+*/ +*/ +*/",
        "/-_/ /-_/ /-_/",
        ":;:; _+_/ .,-_",
        ",:_- +*/. _:/-",
        "syntax, calm; code: slow"
      ]
    },
    {
      id: "syntax-s1-tech-1",
      group: "Syntax S1 – Punctuation",
      category: "Technique",
      language: "en",
      label: "Technique drill 1 – balanced symbol patterns",
      tag: "S1",
      fingerHints: true,
      segments: [
        ",.;: _-+*",
        "_/_: +*-;",
        ":.;_ -/*+",
        "_-:_ +*/-",
        "*/+_ :;.-",
        "/_/+ -;:_",
        "-_+/ :.,;",
        ":+*/ -_,."
      ]
    },
    {
      id: "syntax-s1-tech-2",
      group: "Syntax S1 – Punctuation",
      category: "Technique",
      language: "en",
      label: "Technique drill 2 – mix symbols with words",
      tag: "S1",
      fingerHints: true,
      segments: [
        "calm_code calm-code calm.code",
        "soft:line soft_line soft-line",
        "rise/fall rise*fall rise+fall",
        "near_far near-far near:far",
        "low_high low-high low:high",
        "air,flow air-flow air:flow",
        "aura_path aura.path aura-path",
        "data:set data_set data-set"
      ]
    },
    {
      id: "syntax-s1-tech-3",
      group: "Syntax S1 – Punctuation",
      category: "Technique",
      language: "en",
      label: "Technique drill 3 – flowing balanced patterns",
      tag: "S1",
      fingerHints: true,
      segments: [
        "soft_line, calm:code _rise+again",
        "air-flow / soft.path ; slow-rise",
        "near_low : rise*soft - clear_path",
        "calm-air _ soft:light ; aura_line",
        "data-flow : slow_line _ rise-fall",
        "clear_light ; soft-line _ aura:set",
        "aura_flow ; rise-path _ near:data",
        "rise_line, calm_flow / soft:set"
      ]
    },
    {
      id: "syntax-s1-words-1",
      group: "Syntax S1 – Punctuation",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – balanced punctuation",
      tag: "S1",
      fingerHints: true,
      segments: [
        "soft_line calm:rise aura-path",
        "air_flow near:set data-light",
        "low-high soft/path calm*flow",
        "rise:light near-code calm_line",
        "_soft-path _clear:air _rise/fall",
        "calm-air soft:set rise:again",
        "data_set clear-light calm_flow",
        "aura.path soft-line calm:set"
      ]
    },
    {
      id: "syntax-s1-words-2",
      group: "Syntax S1 – Punctuation",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – extended patterns",
      tag: "S1",
      fingerHints: true,
      segments: [
        "clear_line : calm_flow _ rises again / soft",
        "aura-set , low-high ; rise-path _ calm-air",
        "near_data _ soft:light + slow path",
        "calm-rise * soft-line : data,air",
        "air-flow / rise:low ; calm_line",
        "slow:set _ clear-flow + soft.path",
        "near-air : calm_code _ aura-line",
        "rise/set , calm-flow - clear.path"
      ]
    },
    {
      id: "syntax-s1-long-fi",
      group: "Syntax S1 – Punctuation",
      category: "Long practice",
      language: "fi",
      label: "Long practice – FI calm narrative with code-like punctuation",
      tag: "S1",
      fingerHints: true,
      segments: [
        "Aava liikkuu hiljaa – valo, ilma ja meri kulkevat rinnakkain; kaikessa on rauha. Polku jatkuu pehmeästi, askel askeleelta: hitaasti, tasaisesti. aura_flow = valo_soft + ilma_calm; ranta_line = aalto_sum / aika;",
        "Aamun pehmeä ilma kantaa meren yllä, ja valo asettuu laaksoon; hitaasti, lempeästi. Ranta hengittää, ja aava avautuu ilman kiirettä: tila_rauhassa = ilma_soft * aika_slow; data_rate = aalto_count / sekunti;",
        "Kun kuljet rantaa, huomaat kuinka hiekka vaihtuu kiveen – ja polku kaartuu takaisin aavalle; rauha pysyy. Ilma, valo ja laine muodostavat yhteisen rytmin: step_sum += 1; calm_level = calm_level - stress_factor;",
        "Rauha laskeutuu aamuun – aallot, hiekka, tuuli: kaikki liikkuu yhdessä. Hengität, ja maailma vastaa; lempeästi, tasaisesti. soft_line = air_flow + light_glow; slow_mode = true / true; aura_total = aura_total * 0.5;"
      ]
    },
    {
      id: "syntax-s1-long-en",
      group: "Syntax S1 – Punctuation",
      category: "Long practice",
      language: "en",
      label: "Long practice – EN calm narrative with code-like punctuation",
      tag: "S1",
      fingerHints: true,
      segments: [
        "Calm air moves slowly, and soft light rests over the shore; everything breathes in a gentle rhythm. The line of water shifts quietly: waves form, fall, and rise again. calm_level = base_calm + soft_gain; wave_rate = wave_count / time_step;",
        "A subtle glow rises beyond the valley – warm air settles near the grass; soft patterns appear. Each motion is steady, calm and even: flow_sum += low_flow; light_mix = clear_light * 0.5;",
        "Near the river, water glides without hurry – air, light and sound blend softly; the world holds its pace. Every moment seems to float: data_path = river_line / segment_count; ease_score = calm_level - noise_value;",
        "At the lake’s edge, morning unfolds – quiet shapes roll over the surface; warmth lands on the shore: soft_code = calm_input + light_input; slow_mode = true; aura_output = soft_code / 2.0;"
      ]
    },

    // -----------------------------------------------------------------------
    // Syntax – S2 (brackets)
    // -----------------------------------------------------------------------
    {
      id: "syntax-s2-intro",
      group: "Syntax S2 – Brackets",
      category: "Introduction",
      language: "en",
      label: "Introduction – () [] {} basics",
      tag: "S2",
      fingerHints: true,
      segments: [
        "() () ()  [] [] []  {} {} {}",
        "( ) [ ] { } ( ) [ ] { }",
        "(()) [[]] {{}}",
        "()[]{} ()[]{} ()[]{}",
        "(a) [b] {c} (a) [b] {c}",
        "(_a) [b_] {c_}",
        "(a+b) [c-d] {e*f}",
        "syntax(a, b); code[c] = {v};"
      ]
    },
    {
      id: "syntax-s2-tech-1",
      group: "Syntax S2 – Brackets",
      category: "Technique",
      language: "en",
      label: "Technique drill 1 – bracket patterns",
      tag: "S2",
      fingerHints: true,
      segments: [
        "() () ()  [] [] []  {} {} {}",
        "(()) ()() (()) ()()",
        "[[]] [][ ] [[]] [][ ]",
        "{{}} {}{} {{}} {}{}",
        "([]) [{}] ({}) [()]",
        "( _ ) [ - ] { + }",
        "(a_b) [c-d] {e+f}",
        "(a)/[b]*{c}  (x)+[y]-{z}"
      ]
    },
    {
      id: "syntax-s2-tech-2",
      group: "Syntax S2 – Brackets",
      category: "Technique",
      language: "en",
      label: "Technique drill 2 – mixed with punctuation & letters",
      tag: "S2",
      fingerHints: true,
      segments: [
        "a(b_c) d[e-f] r{g*h}",
        "soft(a,b) clear[c] calm{v}",
        "rise(low) fall[top] melt{air}",
        "val(a:b) set[c,d] map{key:value}",
        "data(a)/flow[b]*calc{v}",
        "(a,b:c) [d_e] {f-g}",
        "_sum(a,b) += array[c]",
        "frame(a){line[b]; arc(c)}"
      ]
    },
    {
      id: "syntax-s2-tech-3",
      group: "Syntax S2 – Brackets",
      category: "Technique",
      language: "en",
      label: "Technique drill 3 – flowing bracket rhythm",
      tag: "S2",
      fingerHints: true,
      segments: [
        "soft(a) calm[b] clear{c}",
        "air(a,b) flow[c,d] rise{e*f}",
        "path(a)+path[b] - aura{v}",
        "mix(a/b) sum[c*d] draw{v}",
        "val(a)+low[b]/soft{c}",
        "(air_light) [soft_line] {calm_mode}",
        "aura(a): slow[b]; edge{c}",
        "logic(a && b){return c;}"
      ]
    },
    {
      id: "syntax-s2-words-1",
      group: "Syntax S2 – Brackets",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – bracketed terms",
      tag: "S2",
      fingerHints: true,
      segments: [
        "soft(a) calm(b) clear(c)",
        "air_flow(a) near[b] data{c}",
        "rise_low(a,b) slow[c] aura{d}",
        "val(a)+rate[b] map{c}",
        "clear[a] soft{b} calm(c)",
        "co_de(a) slow[b] wave{c}",
        "flow(a)/rise[b] melt{c}",
        "tiny(a) warm[b] line{c}"
      ]
    },
    {
      id: "syntax-s2-words-2",
      group: "Syntax S2 – Brackets",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – structured code-like phrases",
      tag: "S2",
      fingerHints: true,
      segments: [
        "node(a){data[b] = calm(c);}",
        "flow(a,b){rate[c] = rise(d);}",
        "soft(a){return slow[b]/air[c];}",
        "map[a] = {low:1, high:2};",
        "frame(a){line[b]; arc(c);}",
        "rise(a){path[b]+=soft(c);}",
        "vector[a,b] = mix(c,d);",
        "logic(a && b){val[c] = aura(d);}"
      ]
    },
    {
      id: "syntax-s2-long-fi",
      group: "Syntax S2 – Brackets",
      category: "Long practice",
      language: "fi",
      label: "Long practice – FI calm story with bracketed pseudocode",
      tag: "S2",
      fingerHints: true,
      segments: [
        "Aava liikkuu hiljaa – valo, ilma ja meri kulkevat rinnakkain; kaikessa on rauha. Polku jatkuu pehmeästi, askel askeleelta: hitaasti, tasaisesti. aura_flow = valo_soft + ilma_calm; ranta_line = aalto_sum / aika;",
        "Aamun pehmeä ilma kantaa meren yllä, ja valo asettuu laaksoon; hitaasti, lempeästi. Ranta hengittää, ja aava avautuu ilman kiirettä: tila_rauhassa = ilma_soft * aika_slow; data_rate = aalto_count / sekunti;",
        "Kun kuljet rantaa, huomaat kuinka hiekka vaihtuu kiveen – ja polku kaartuu takaisin aavalle; rauha pysyy. Ilma, valo ja laine muodostavat yhteisen rytmin: step_sum += 1; calm_level = calm_level - stress_factor;",
        "Rauha laskeutuu aamuun – aallot, hiekka, tuuli: kaikki liikkuu yhdessä. Hengität, ja maailma vastaa; lempeästi, tasaisesti. soft_line = air_flow + light_glow; slow_mode = true / true; aura_total = aura_total * 0.5;"
      ]
    },
    {
      id: "syntax-s2-long-en",
      group: "Syntax S2 – Brackets",
      category: "Long practice",
      language: "en",
      label: "Long practice – EN calm narrative with structured bracketed pseudocode",
      tag: "S2",
      fingerHints: true,
      segments: [
        "Calm air moves slowly, and soft light rests over the shore; everything breathes in a gentle rhythm. The line of water shifts quietly: waves form, fall, and rise again. calm_level = base_calm + soft_gain; wave_rate = wave_count / time_step;",
        "A subtle glow rises beyond the valley – warm air settles near the grass; soft patterns appear. Each motion is steady, calm and even: flow_sum += low_flow; light_mix = clear_light * 0.5;",
        "Near the river, water glides without hurry – air, light and sound blend softly; the world holds its pace. Every moment seems to float: data_path = river_line / segment_count; ease_score = calm_level - noise_value;",
        "At the lake’s edge, morning unfolds – quiet shapes roll over the surface; warmth lands on the shore: soft_code = calm_input + light_input; slow_mode = true; aura_output = soft_code / 2.0;"
      ]
    },

    // -----------------------------------------------------------------------
    // Syntax – S3 (boolean & comparison)
    // -----------------------------------------------------------------------
    {
      id: "syntax-s3-intro",
      group: "Syntax S3 – Boolean & Comparison",
      category: "Introduction",
      language: "en",
      label: "Introduction – == != <= >= && || !",
      tag: "S3",
      fingerHints: true,
      segments: [
        "== != <= >=",
        "&& || ! =",
        "== != == !=",
        "<= >= <= >=",
        "&& && || ||",
        "! ! != !=",
        "val == max; low != high;",
        "flag && ready || !error"
      ]
    },
    {
      id: "syntax-s3-tech-1",
      group: "Syntax S3 – Boolean & Comparison",
      category: "Technique",
      language: "en",
      label: "Technique drill 1 – operator patterns",
      tag: "S3",
      fingerHints: true,
      segments: [
        "== != == !=",
        "<= >= <= >=",
        "&& || && ||",
        "! == ! !=",
        "== <= >= !=",
        "! && || ==",
        "!= >= <= ==",
        "== && != ||"
      ]
    },
    {
      id: "syntax-s3-tech-2",
      group: "Syntax S3 – Boolean & Comparison",
      category: "Technique",
      language: "en",
      label: "Technique drill 2 – operators + symbols",
      tag: "S3",
      fingerHints: true,
      segments: [
        "a == b; c != d;",
        "x <= y; z >= t;",
        "a+b == c*d",
        "!ready && calm_mode",
        "air_flow <= soft_rate",
        "value != last_value",
        "rise_level >= low_level",
        "ok && clear || !fault"
      ]
    },
    {
      id: "syntax-s3-tech-3",
      group: "Syntax S3 – Boolean & Comparison",
      category: "Technique",
      language: "en",
      label: "Technique drill 3 – flowing operator rhythm",
      tag: "S3",
      fingerHints: true,
      segments: [
        "calm_mode && soft_line == true",
        "ready || clear && !error",
        "air_flow <= rise_rate && ok",
        "value >= base && soft <= max",
        "low != high && calm == true",
        "!paused && rise <= limit",
        "steady == true || slow == false",
        "!fault && calm_mode == active"
      ]
    },
    {
      id: "syntax-s3-words-1",
      group: "Syntax S3 – Boolean & Comparison",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – boolean snippets",
      tag: "S3",
      fingerHints: true,
      segments: [
        "if (a == b) calm = true;",
        "if (x != y) light = soft;",
        "rise <= limit && ok",
        "!error && ready",
        "soft >= low && clear",
        "calm_mode || warm_air",
        "ok && !halt",
        "value == glow || air <= soft"
      ]
    },
    {
      id: "syntax-s3-words-2",
      group: "Syntax S3 – Boolean & Comparison",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – structured code-like phrases",
      tag: "S3",
      fingerHints: true,
      segments: [
        "if (air <= light && !error) calm = true;",
        "while (flow >= min && ok) rate += step;",
        "if (soft == true || warm == true) rise = low;",
        "value != limit && clear == true;",
        "if (!ready) slow_mode = true;",
        "if (a <= b) line = soft_rate;",
        "if (warm_air && !halt) state = glow;",
        "steady = (rise >= low && clear);"
      ]
    },
    {
      id: "syntax-s3-long-fi",
      group: "Syntax S3 – Boolean & Comparison",
      category: "Long practice",
      language: "fi",
      label: "Long practice – FI calm narrative with boolean pseudocode",
      tag: "S3",
      fingerHints: true,
      segments: [
        "Aava liikkuu hiljaa, ja valo palaa vähitellen. Ranta avautuu edessä, ja huomaat kuin maailma tarkistaisi tilansa: if (aava == rauha && !tuuli) polku = selkeä; Ilma hengittää hiljaa, ja maisema tuntuu vakautuvan.",
        "Kun kuljet eteenpäin, näet aaltojen muodostavan oman logiikkansa. Jos liike on pehmeä, se tuntuu ehdolta: if (valo <= aamu && ranta >= tyyneys) jatka_matkaa = true; Hiljaisuus pysyy mukana, eikä mikään riko rytmiä.",
        "Rannan kivissä näkyy lempeä järjestys. Voit melkein kuulla kuinka maailma tekee päätöksiä: if (!häiriö && meri == lämmin) askel += rauha; Jokainen aalto tuntuu vahvistavan tämän hetkisen tilan.",
        "Auringon noustessa valo tarkistuu veden pinnassa: if (valo >= taso && ilma != kylmä) aamu = kirkas; Kaikki ympärilläsi toimii kuin hiljainen ohjelma, jossa rauha palautetaan yhä uudelleen."
      ]
    },
    {
      id: "syntax-s3-long-en",
      group: "Syntax S3 – Boolean & Comparison",
      category: "Long practice",
      language: "en",
      label: "Long practice – EN calm boolean pseudocode narrative",
      tag: "S3",
      fingerHints: true,
      segments: [
        "Calm light settles over the water as morning rises. It feels as if the landscape evaluates each step: if (air <= soft && !error) flow = gentle; Waves move quietly, balancing each motion.",
        "Along the shore, warm air drifts across the surface. The world seems to run a simple rule: if (light >= warm && clear == true) ease = rise; Everything follows a soft pattern.",
        "Near the river, each ripple feels like a quiet condition: if (value != noise && calm_mode) time += soft; Light reflects across the water and blends into slow motion.",
        "At the lake’s edge, wind moves lightly — steady, balanced. A small idea forms: if (!fault && steady == true) horizon = glow; The day unfolds, structured and calm."
      ]
    },

    // -----------------------------------------------------------------------
    // Syntax – S4 (quotes & comments)
    // -----------------------------------------------------------------------
    {
      id: "syntax-s4-intro",
      group: "Syntax S4 – Quotes & Comments",
      category: "Introduction",
      language: "en",
      label: "Introduction – ' \" ` # // /* */",
      tag: "S4",
      fingerHints: true,
      segments: [
        "' ' '   \" \" \"   ` ` `",
        "# # #   // // //",
        "/* */  /* */  /* */",
        "'a' \"b\" `c`",
        "// note  #tag  /* block */",
        "'calm' \"soft\" `slow`",
        "# calm_mode = true",
        "// syntax: slow, steady"
      ]
    },
    {
      id: "syntax-s4-tech-1",
      group: "Syntax S4 – Quotes & Comments",
      category: "Technique",
      language: "en",
      label: "Technique drill 1 – quotes patterns",
      tag: "S4",
      fingerHints: true,
      segments: [
        "'a' 'b' 'c'  \"a\" \"b\" \"c\"",
        "`a` `b` `c`",
        "'_a' \"_b\" `_c`",
        "\"soft\" 'calm' `rise`",
        "'a_b' \"c-d\" `e*f`",
        "\"air_flow\" 'soft-line'",
        "`calm:mode` `rise_low`",
        "'x' \"y\" `z`"
      ]
    },
    {
      id: "syntax-s4-tech-2",
      group: "Syntax S4 – Quotes & Comments",
      category: "Technique",
      language: "en",
      label: "Technique drill 2 – comments + quotes",
      tag: "S4",
      fingerHints: true,
      segments: [
        "// calm code",
        "# slow_mode = true",
        "/* soft block */",
        "'air' // flow",
        "\"light\" #note",
        "`path` /* arc */",
        "// rise_low(a)",
        "# calm:mode + air_flow"
      ]
    },
    {
      id: "syntax-s4-tech-3",
      group: "Syntax S4 – Quotes & Comments",
      category: "Technique",
      language: "en",
      label: "Technique drill 3 – flowing quote/comment rhythm",
      tag: "S4",
      fingerHints: true,
      segments: [
        "'soft_line' // calm_flow",
        "\"rise_low\" #warm",
        "`aura_path` /* soft block */",
        "// near_light 'soft'",
        "# data_rate \"steady\"",
        "`air_flow` // mix_value",
        "'calm' \"soft\" `glow`",
        "/* rise */ # low // warm"
      ]
    },
    {
      id: "syntax-s4-words-1",
      group: "Syntax S4 – Quotes & Comments",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – quoted values",
      tag: "S4",
      fingerHints: true,
      segments: [
        "value = 'calm';",
        "mode = \"soft\";",
        "path = `rise_low`;",
        "air = 'warm';",
        "light = \"clear\";",
        "edge = `soft_line`;",
        "flow = 'slow';",
        "sky = \"quiet\";"
      ]
    },
    {
      id: "syntax-s4-words-2",
      group: "Syntax S4 – Quotes & Comments",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – comments + quotes combined",
      tag: "S4",
      fingerHints: true,
      segments: [
        "// set 'light' mode",
        "# path = \"soft\"",
        "/* calm */ value = `rise`",
        "'air' // calm_flow",
        "\"warm\" # next",
        "`clear` /* block */",
        "// 'soft' -> \"slow\"",
        "# `aura_path` = low"
      ]
    },
    {
      id: "syntax-s4-long-fi",
      group: "Syntax S4 – Quotes & Comments",
      category: "Long practice",
      language: "fi",
      label: "Long practice – FI calm code diary",
      tag: "S4",
      fingerHints: true,
      segments: [
        "Aamun valo laskeutuu rantaan. Voit melkein kuulla pienen muistiinpanon syntyvän: // 'valo' = \"pehmeä\". Ilma liikkuu hitaasti ja maisema tuntuu rauhalliselta. # aava_mode = 'hiljainen'.",
        "Kun kuljet eteenpäin, havaitset laineiden rytmin. Se muistuttaa kommenttia, joka kuvaa hetkeä: /* 'aalto' -> \"rauha\" */. Ranta hengittää hiljaisuutta, ja askel jatkuu tasaisesti.",
        "Puiden välistä näkyy valo, joka leviää pehmeästi. On kuin maailma kirjoittaisi pienen tilapäivityksen: # tila = `aamun_rauha`. Hiljainen tuuli seuraa mukana ja pitää rytmin vakaana.",
        "Kun pysähdyt hetkeksi, kuulet ympäristön kuin koodinpätkänä: // 'ilma' + \"valo\" -> `pehmeä_aava`. Jokainen liike on hidas ja tasapainoinen, eikä mikään kiirehdi."
      ]
    },
    {
      id: "syntax-s4-long-en",
      group: "Syntax S4 – Quotes & Comments",
      category: "Long practice",
      language: "en",
      label: "Long practice – EN calm narrative with quotes & comments",
      tag: "S4",
      fingerHints: true,
      segments: [
        "Soft air settles across the water, as if the moment were a line of code: // mode = 'calm'. Light reflects gently, forming patterns like quiet notes in a warm script.",
        "Along the shore, waves write their own message: \"rise_low\" becomes `soft_line` beneath the morning glow. # day_mode = 'steady'. Everything moves with even balance.",
        "Near the trees, warm air drifts slowly. It feels like a comment left by the landscape itself: /* glow = \"soft\" */. Each sound blends into a gentle pace.",
        "On the lake’s edge, light traces a calm shape. You imagine the world updating its state: sky = `warm_air`; // return 'ease'. Slowly, everything settles."
      ]
    },

    // -----------------------------------------------------------------------
    // Syntax – S5 (arrows, bitwise, misc)
    // -----------------------------------------------------------------------
    {
      id: "syntax-s5-intro",
      group: "Syntax S5 – Arrows & Bitwise",
      category: "Introduction",
      language: "en",
      label: "Introduction – -> => & | ^ @ $ ~",
      tag: "S5",
      fingerHints: true,
      segments: [
        "-> -> ->   => => =>",
        "& & &   | | |",
        "^ ^ ^   @ @ @",
        "$ $ $   ~ ~ ~",
        "a->b  x=>y",
        "a & b  c | d",
        "a ^ b  @note",
        "$var  ~soft"
      ]
    },
    {
      id: "syntax-s5-tech-1",
      group: "Syntax S5 – Arrows & Bitwise",
      category: "Technique",
      language: "en",
      label: "Technique drill 1 – arrow patterns",
      tag: "S5",
      fingerHints: true,
      segments: [
        "a->b b->c c->d",
        "x=>y y=>z z=>w",
        "a->b->c->d",
        "x=>y=>z=>w",
        "(a)->(b)  [x]=>[y]",
        "soft->calm  rise=>low",
        "a->b  x=>y  a->b",
        "flow->path  data=>rate"
      ]
    },
    {
      id: "syntax-s5-tech-2",
      group: "Syntax S5 – Arrows & Bitwise",
      category: "Technique",
      language: "en",
      label: "Technique drill 2 – bitwise & misc. symbols",
      tag: "S5",
      fingerHints: true,
      segments: [
        "a & b  c | d  e ^ f",
        "~a  ~b  ~c",
        "$a $b $c",
        "@a @b @c",
        "a & b | c",
        "d ^ e & f",
        "$var + $sum",
        "@decorator ^flag"
      ]
    },
    {
      id: "syntax-s5-tech-3",
      group: "Syntax S5 – Arrows & Bitwise",
      category: "Technique",
      language: "en",
      label: "Technique drill 3 – flowing operator rhythm",
      tag: "S5",
      fingerHints: true,
      segments: [
        "if (a & b) x->y;",
        "value=>rate | soft_flag",
        "~air & warm | calm",
        "$val + $sum -> flow",
        "rise=>low ^ warm",
        "@note value->light",
        "$path | glow->soft",
        "~soft ^ calm=>rise"
      ]
    },
    {
      id: "syntax-s5-words-1",
      group: "Syntax S5 – Arrows & Bitwise",
      category: "Word practice",
      language: "en",
      label: "Word practice 1 – arrow/bitwise snippets",
      tag: "S5",
      fingerHints: true,
      segments: [
        "flow->path",
        "air=>light",
        "soft & warm",
        "aura | glow",
        "rise ^ low",
        "~calm_mode",
        "$energy->rate",
        "@signal=>warm"
      ]
    },
    {
      id: "syntax-s5-words-2",
      group: "Syntax S5 – Arrows & Bitwise",
      category: "Word practice",
      language: "en",
      label: "Word practice 2 – code-like expressions",
      tag: "S5",
      fingerHints: true,
      segments: [
        "value->next | glow",
        "air=>warm & soft",
        "~fault ^ (rise->low)",
        "$light=>glow->soft",
        "@smooth value=>calm",
        "path & line | soft",
        "clear=>warm->easy",
        "~noise & calm"
      ]
    },
    {
      id: "syntax-s5-long-fi",
      group: "Syntax S5 – Arrows & Bitwise",
      category: "Long practice",
      language: "fi",
      label: "Long practice – FI calm story + arrow/bitwise pseudocode",
      tag: "S5",
      fingerHints: true,
      segments: [
        "Aava liikkuu hiljaa, ja valo osuu veden pintaan. Tuntuu kuin maailma tekisi pienen laskutoimituksen: valo->pehmeä; ilma=>lämmin; rauha = aava & hiljaisuus. Kun tuuli kääntyy, jokin muuttuu: ~kylmä & lämmin.",
        "Ranta hengittää omassa rytmissään. Laineet piirtävät pieniä ehto­muotoja: jos (valo & ilma) aalto->pehmeä. Voit melkein kuulla: @merkintä; aura=>lempeä; sumu = valo | vesi. Kaikki tuntuu rauhalliselta.",
        "Kun kuljet eteenpäin, huomaat pienen rakenteen syntyvän ajatuksiisi: tila->valo; aika=>virta; rauha ^= melu. Rannan tuuli kulkee tasaista polkua, eikä mikään kiirehdi.",
        "Auringon valo siirtyy horisonttiin. On kuin maailma kirjoittaisi oman loginsa: päivitys->aamu; tila=>selkeä; virtaus = lämmin & pehmeä; ~häiriö. Kaikki palaa hiljaiseen tasapainoon."
      ]
    },
    {
      id: "syntax-s5-long-en",
      group: "Syntax S5 – Arrows & Bitwise",
      category: "Long practice",
      language: "en",
      label: "Long practice – EN calm narrative with arrows & operators",
      tag: "S5",
      fingerHints: true,
      segments: [
        "Soft air moves across the lake, as if the world were calling functions quietly: light->calm; air=>warm; flow = soft & steady. A gentle breeze passes, clearing the surface like ~noise.",
        "Near the water’s edge, small waves shift in a pattern: wave->rise; glow=>line; value = air | light. Everything feels balanced, held together by simple rules.",
        "Across the valley, warm light drifts upward. It is easy to imagine: day->soft; morning=>clear; rhythm ^= motion. The landscape follows its own smooth logic.",
        "At the shoreline, wind brushes over the surface. A quiet structure appears: horizon->warm; sky=>ease; warmth = air & glow; ~cold. The world settles into calm motion."
      ]
    }
  ];

  // ==== FINGER LAYOUT =======================================================
  // Simple finger mapping for Finnish Mac keyboard. English layout reuses
  // the same mapping for now.

  const fingerLayouts = {
    fi: {
      names: {
        leftPinky:  "left pinky",
        leftRing:   "left ring finger",
        leftMiddle: "left middle finger",
        leftIndex:  "left index finger",
        leftThumb:  "left thumb",
        rightThumb: "right thumb",
        rightIndex: "right index finger",
        rightMiddle:"right middle finger",
        rightRing:  "right ring finger",
        rightPinky: "right pinky"
      },
      keyMap: {
        "§": "leftPinky", "1": "leftPinky", "q": "leftPinky", "a": "leftPinky", "z": "leftPinky",
        "2": "leftRing", "w": "leftRing", "s": "leftRing", "x": "leftRing",
        "3": "leftMiddle", "e": "leftMiddle", "d": "leftMiddle", "c": "leftMiddle",
        "4": "leftIndex", "5": "leftIndex", "r": "leftIndex", "t": "leftIndex",
        "f": "leftIndex", "g": "leftIndex", "v": "leftIndex", "b": "leftIndex",
        "6": "rightIndex", "7": "rightIndex", "y": "rightIndex", "u": "rightIndex",
        "h": "rightIndex", "j": "rightIndex", "n": "rightIndex", "m": "rightIndex",
        "8": "rightMiddle", "i": "rightMiddle", "k": "rightMiddle", ",": "rightMiddle",
        "9": "rightRing", "o": "rightRing", "l": "rightRing", ".": "rightRing",
        "0": "rightPinky", "+": "rightPinky", "p": "rightPinky", "å": "rightPinky",
        "ö": "rightPinky", "ä": "rightPinky", "-": "rightPinky", "_": "rightPinky",
        "?": "rightPinky", "!": "rightPinky", ":": "rightPinky", ";": "rightPinky"
      }
    },
    en: null
  };

  // English layout currently reuses the same mapping as Finnish Mac.
  fingerLayouts.en = {
    names: { ...fingerLayouts.fi.names },
    keyMap: { ...fingerLayouts.fi.keyMap }
  };

  // ==== UI TEXTS ============================================================

  const uiTexts = {
    en: {
      title: "CalmTyping – Home Row Trainer",
      subtitle: "Practice touch typing without looking at the keyboard. Choose any exercise in any order.",
      practiceLangLabel: "Practice language:",
      uiLangLabel: "UI language:",
      reset: "Reset exercise (Esc)",
      helper: "Make sure this window has focus. Just start typing, there is no text field.",
      lessonsTitle: "Lessons (free order)",
      exerciseLabel: "Exercise text",
      typedLabel: "Your typing",
      statChars: "Chars:",
      statErrors: "Errors:",
      statAccuracy: "Accuracy:",
      statTime: "Time:",
      statWpm: "Speed:",
      fingerTitle: "Finger guide",
      fingerIdleMain: "Select a lesson to see finger hints.",
      fingerIdleDetail: "For both drills and long texts, the app suggests a finger for the next character.",
      fingerDoneMain: "This exercise is complete.",
      fingerDoneDetail: "You can repeat the text, switch to another lesson, or move to the next exercise with Space.",
      fingerNoHintsMain: "This exercise does not show finger hints.",
      fingerNoHintsDetail: "Use what you have learned from the basic lessons.",
      nextChar: (ch) => `Next character: ${ch}`,
      useFinger: (fingerName) => `Recommended finger: ${fingerName}.`,
      useThumbs: "Recommended finger: both thumbs (space bar).",
      useEnter: "Recommended finger: right pinky (Enter / return).",
      noSpecific: "No specific finger recommendation for this character.",
      segmentLabel: (current, total) => `Segment ${current}/${total}`,
      groupLabel: (group) => group,
      longPracticeAllChars: "Long practice · all characters"
    },
    fi: {
      title: "CalmTyping – Kotirivin harjoitus",
      subtitle: "Harjoittele kirjoittamista katsomatta näppäimistöä. Valitse harjoitus vapaassa järjestyksessä.",
      practiceLangLabel: "Harjoittelun kieli:",
      uiLangLabel: "Käyttöliittymän kieli:",
      reset: "Nollaa harjoitus (Esc)",
      helper: "Varmista, että tämä ikkuna on fokuksessa. Ala vain kirjoittaa, erillistä tekstikenttää ei ole.",
      lessonsTitle: "Harjoitukset (vapaa järjestys)",
      exerciseLabel: "Harjoitusteksti",
      typedLabel: "Kirjoituksesi",
      statChars: "Merkkejä:",
      statErrors: "Virheitä:",
      statAccuracy: "Tarkkuus:",
      statTime: "Aika:",
      statWpm: "Nopeus:",
      fingerTitle: "Sormiohje",
      fingerIdleMain: "Valitse harjoitus nähdäksesi sormiohjeen.",
      fingerIdleDetail: "Sekä tekniikkaharjoituksissa että pitkissä teksteissä sovellus ehdottaa sormea seuraavalle merkille.",
      fingerDoneMain: "Tämä harjoitus on kirjoitettu loppuun.",
      fingerDoneDetail: "Voit toistaa tekstin, vaihtaa harjoitusta tai siirtyä seuraavaan harjoitukseen välilyönnillä.",
      fingerNoHintsMain: "Tässä harjoituksessa ei näytetä sormiohjeita.",
      fingerNoHintsDetail: "Käytä aiemmissa harjoituksissa opittua sormijakoa.",
      nextChar: (ch) => `Seuraava merkki: ${ch}`,
      useFinger: (fingerName) => `Suositeltu sormi: ${fingerName}.`,
      useThumbs: "Suositeltu sormi: peukalot (välilyönti).",
      useEnter: "Suositeltu sormi: oikea pikkurilli (Enter / rivinvaihto).",
      noSpecific: "Tähän merkkiin ei ole erityistä sormisuositusta.",
      segmentLabel: (current, total) => `Segmentti ${current}/${total}`,
      groupLabel: (group) => group,
      longPracticeAllChars: "Pitkä harjoitus · kaikki merkit"
    }
  };

  // ==== DOM REFERENCES ======================================================

  const appRoot = document.getElementById("appRoot");
  const languageSelect = document.getElementById("languageSelect");
  const uiLanguageSelect = document.getElementById("uiLanguageSelect");
  const lessonsList = document.getElementById("lessonsList");
  const exerciseTextElem = document.getElementById("exerciseText");
  const typedTextElem = document.getElementById("typedText");
  const segmentLabelElem = document.getElementById("segmentLabel");

  const statChars = document.getElementById("statChars");
  const statErrors = document.getElementById("statErrors");
  const statAccuracy = document.getElementById("statAccuracy");
  const statTime = document.getElementById("statTime");
  const statWpm = document.getElementById("statWpm");

  const resetBtn = document.getElementById("resetBtn");

  const uiTitle = document.getElementById("uiTitle");
  const uiSubtitle = document.getElementById("uiSubtitle");
  const uiPracticeLangLabel = document.getElementById("uiPracticeLangLabel");
  const uiUiLangLabel = document.getElementById("uiUiLangLabel");
  const uiHelper = document.getElementById("uiHelper");
  const uiLessonsTitle = document.getElementById("uiLessonsTitle");
  const uiExerciseLabel = document.getElementById("uiExerciseLabel");
  const uiTypedLabel = document.getElementById("uiTypedLabel");
  const uiStatCharsLabel = document.getElementById("uiStatCharsLabel");
  const uiStatErrorsLabel = document.getElementById("uiStatErrorsLabel");
  const uiStatAccuracyLabel = document.getElementById("uiStatAccuracyLabel");
  const uiStatTimeLabel = document.getElementById("uiStatTimeLabel");
  const uiStatWpmLabel = document.getElementById("uiStatWpmLabel");

  const fingerTitle = document.getElementById("uiFingerTitle");
  const fingerMain = document.getElementById("fingerMain");
  const fingerDetail = document.getElementById("fingerDetail");

  const allFingerDots = document.querySelectorAll(".finger-dot");
  const allKeys = document.querySelectorAll(".key[data-key]");

  // ==== STATE ===============================================================

  let currentLesson = null;
  let currentSegmentIndex = 0;
  let typed = "";
  let errors = 0;
  let startTime = null;
  let currentUiLang = "en";
  let exerciseCompleted = false;
  let expandedGroups = {};

  // ==== UI LANGUAGE =========================================================

  function applyUiLanguage() {
    const t = uiTexts[currentUiLang];

    uiTitle.textContent = t.title;
    uiSubtitle.textContent = t.subtitle;
    uiPracticeLangLabel.textContent = t.practiceLangLabel;
    uiUiLangLabel.textContent = t.uiLangLabel;
    resetBtn.textContent = t.reset;
    uiHelper.textContent = t.helper;
    uiLessonsTitle.textContent = t.lessonsTitle;
    uiExerciseLabel.textContent = t.exerciseLabel;
    uiTypedLabel.textContent = t.typedLabel;
    uiStatCharsLabel.textContent = t.statChars;
    uiStatErrorsLabel.textContent = t.statErrors;
    uiStatAccuracyLabel.textContent = t.statAccuracy;
    uiStatTimeLabel.textContent = t.statTime;
    uiStatWpmLabel.textContent = t.statWpm;
    fingerTitle.textContent = t.fingerTitle;

    if (!currentLesson) {
      exerciseTextElem.textContent =
        currentUiLang === "fi"
          ? "Valitse vasemmalta harjoitus ja ala kirjoittaa."
          : "Select a lesson on the left and start typing.";
      segmentLabelElem.textContent = "";
      fingerMain.textContent = t.fingerIdleMain;
      fingerDetail.textContent = t.fingerIdleDetail;
      highlightFingers([]);
    } else {
      updateSegmentLabel();
      updateFingerHint();
    }
  }

  // ==== HELPER: CURRENT TEXT & SEGMENTS ====================================

  function getCurrentText() {
    if (!currentLesson) return "";
    if (currentLesson.segments) {
      return currentLesson.segments[currentSegmentIndex] || "";
    }
    return "";
  }

  function totalSegments() {
    if (!currentLesson || !currentLesson.segments) return 1;
    return currentLesson.segments.length;
  }

  function updateSegmentLabel() {
    if (!currentLesson || !currentLesson.segments) {
      segmentLabelElem.textContent = "";
      return;
    }
    const t = uiTexts[currentUiLang];
    segmentLabelElem.textContent = t.segmentLabel(currentSegmentIndex + 1, totalSegments());
  }

  // ==== LESSON LIST RENDERING ==============================================

  function renderLessons() {
    const practiceLang = languageSelect.value;
    const t = uiTexts[currentUiLang];

    lessonsList.innerHTML = "";

    // Group lessons by "group" field to show small section headers
    const filtered = lessons.filter(l => l.language === practiceLang);
    const byGroup = {};
    filtered.forEach(lesson => {
      if (!byGroup[lesson.group]) byGroup[lesson.group] = [];
      byGroup[lesson.group].push(lesson);
    });

    const groupNames = Object.keys(byGroup);

    // default expand first group if nothing set
    if (groupNames.length > 0 && Object.keys(expandedGroups).length === 0) {
      expandedGroups[groupNames[0]] = true;
    }

    groupNames.forEach(groupName => {
      const isExpanded = !!expandedGroups[groupName];

      const header = document.createElement("div");
      header.className = "lesson-group-header";

      const label = document.createElement("span");
      label.className = "lesson-group-label";
      label.textContent = t.groupLabel(groupName);

      const chev = document.createElement("span");
      chev.className = "lesson-group-chevron";
      chev.textContent = "▾";
      if (!isExpanded) {
        chev.classList.add("closed");
      }

      header.appendChild(label);
      header.appendChild(chev);
      header.addEventListener("click", () => {
        expandedGroups[groupName] = !isExpanded;
        renderLessons();
      });
      lessonsList.appendChild(header);

      const list = document.createElement("div");
      list.className = "lessons-list";

      if (isExpanded) {
        byGroup[groupName].forEach(lesson => {
          let categoryLabel = lesson.category;
          if (lesson.category === "Long practice") {
            categoryLabel = t.longPracticeAllChars;
          }

          const btn = document.createElement("button");
          btn.className = "lesson";
          btn.dataset.id = lesson.id;
          btn.innerHTML = `
            <div class="lesson-main">
              <span>${lesson.label}</span>
              <span class="lesson-sub">${categoryLabel}</span>
            </div>
            <span class="lesson-tag">${lesson.tag}</span>
          `;
          btn.addEventListener("click", () => setCurrentLesson(lesson.id));
          list.appendChild(btn);
        });

        lessonsList.appendChild(list);
      }
    });

    highlightActiveLesson();
    scrollActiveLessonIntoView();
  }

  function highlightActiveLesson() {
    const buttons = lessonsList.querySelectorAll(".lesson");
    buttons.forEach(btn => {
      if (currentLesson && btn.dataset.id === currentLesson.id) {
        btn.classList.add("active");
      } else {
        btn.classList.remove("active");
      }
    });
  }

  function scrollActiveLessonIntoView() {
    const active = lessonsList.querySelector(".lesson.active");
    if (active && active.scrollIntoView) {
      active.scrollIntoView({ block: "nearest", behavior: "smooth" });
    }
  }

  function setCurrentLesson(id) {
    const lesson = lessons.find(l => l.id === id);
    if (!lesson) return;

    currentLesson = lesson;
    currentSegmentIndex = 0;
    typed = "";
    errors = 0;
    startTime = null;
    exerciseCompleted = false;
    expandedGroups = {};
    expandedGroups[lesson.group] = true;

    typedTextElem.textContent = "";
    updateStats();
    renderExerciseText();
    updateSegmentLabel();
    updateFingerHint();
    renderLessons();
    highlightActiveLesson();
    scrollActiveLessonIntoView();
    appRoot.focus();
  }

  // ==== EXERCISE TEXT RENDERING ============================================

  function renderExerciseText() {
    if (!currentLesson) {
      exerciseTextElem.textContent =
        currentUiLang === "fi"
          ? "Valitse vasemmalta harjoitus ja ala kirjoittaa."
          : "Select a lesson on the left and start typing.";
      return;
    }

    const full = getCurrentText();
    const container = document.createElement("div");

    for (let i = 0; i < full.length; i++) {
      const ch = full[i];
      const span = document.createElement("span");
      const typedChar = typed[i];

      if (typedChar == null) {
        if (i === typed.length) {
          span.classList.add("current");
        }
      } else {
        if (typedChar === ch) {
          span.classList.add("done");
        } else {
          span.classList.add("error");
        }
      }

      span.textContent = ch === " " ? "·" : ch;
      container.appendChild(span);
    }

    // If the text is empty, show one highlighted placeholder
    if (full.length === 0) {
      const span = document.createElement("span");
      span.classList.add("current");
      span.textContent = " ";
      container.appendChild(span);
    }

    exerciseTextElem.innerHTML = "";
    exerciseTextElem.appendChild(container);

    updateFingerHint();
  }

  // ==== FINGER HIGHLIGHT ====================================================

  function highlightFingers(fingerKeys) {
    allFingerDots.forEach(dot => dot.classList.remove("active"));
    if (!fingerKeys || fingerKeys.length === 0) return;

    fingerKeys.forEach(key => {
      allFingerDots.forEach(dot => {
        if (dot.getAttribute("data-finger") === key) {
          dot.classList.add("active");
        }
      });
    });
  }

  // ==== FINGER HINT LOGIC ===================================================

  function updateFingerHint() {
    const t = uiTexts[currentUiLang];

    if (!currentLesson) {
      fingerMain.textContent = t.fingerIdleMain;
      fingerDetail.textContent = t.fingerIdleDetail;
      highlightFingers([]);
      return;
    }

    if (!currentLesson.fingerHints) {
      fingerMain.textContent = t.fingerNoHintsMain;
      fingerDetail.textContent = t.fingerNoHintsDetail;
      highlightFingers([]);
      return;
    }

    const full = getCurrentText();
    const idx = typed.length;

    // If the whole exercise is done (last segment + at or past end)
    if (idx >= full.length && currentSegmentIndex === totalSegments() - 1) {
      exerciseCompleted = true;
      fingerMain.textContent = t.fingerDoneMain;
      fingerDetail.textContent = t.fingerDoneDetail;
      highlightFingers([]);
      return;
    }

    const ch = full[idx] || " ";
    let displayLabel = ch;

    if (ch === " ") {
      displayLabel = currentUiLang === "fi" ? "välilyönti" : "space";
    } else if (ch === "\n") {
      displayLabel = currentUiLang === "fi" ? "rivinvaihto" : "line break";
    }

    const practiceLang = currentLesson.language;
    const layout = fingerLayouts[practiceLang];

    const isLetter = ch.toLowerCase() !== ch.toUpperCase();
    const isUppercase = isLetter && ch === ch.toUpperCase();

    let fingersToHighlight = [];
    let fingerText = "";

    if (ch === " ") {
      fingerText = t.useThumbs;
      fingersToHighlight = ["leftThumb", "rightThumb"];
    } else if (ch === "\n") {
      fingerText = t.useEnter;
      fingersToHighlight = ["rightPinky"];
    } else if (isUppercase) {
      const lower = ch.toLowerCase();
      const mainFingerKey = layout.keyMap[lower] || null;
      if (mainFingerKey) {
        const isLeft = mainFingerKey.startsWith("left");
        const shiftFinger = isLeft ? "rightPinky" : "leftPinky";
        fingersToHighlight = [mainFingerKey, shiftFinger];
        const name = layout.names[mainFingerKey];
        const shiftName = layout.names[shiftFinger];
        fingerText =
          (currentUiLang === "fi"
            ? `Suositus: ${name} + Shift (${shiftName}).`
            : `Recommended: ${name} + Shift (${shiftName}).`);
      } else {
        fingerText = t.noSpecific;
      }
    } else {
      const keyChar = ch.toLowerCase();
      const fingerKey = layout.keyMap[keyChar] || null;
      if (fingerKey) {
        const name = layout.names[fingerKey];
        fingerText = t.useFinger(name);
        fingersToHighlight = [fingerKey];
      } else {
        fingerText = t.noSpecific;
      }
    }

    fingerMain.textContent = t.nextChar(displayLabel);
    fingerDetail.textContent = fingerText;
    highlightFingers(fingersToHighlight);
  }

  // ==== STATS ===============================================================

  function updateStats() {
    const charsTyped = typed.length;
    statChars.textContent = String(charsTyped);
    statErrors.textContent = String(errors);

    let accuracy = 100;
    if (charsTyped > 0) {
      accuracy = Math.max(0, Math.round(((charsTyped - errors) / charsTyped) * 100));
    }
    statAccuracy.textContent = `${accuracy}%`;

    let elapsed = 0;
    if (startTime) {
      elapsed = (Date.now() - startTime) / 1000;
    }
    statTime.textContent = `${elapsed.toFixed(1)} s`;

    let wpm = 0;
    if (elapsed > 0) {
      const correctChars = Math.max(0, charsTyped - errors);
      wpm = Math.round((correctChars / 5) / (elapsed / 60));
    }
    statWpm.textContent = `${wpm} WPM`;
  }

  function resetCurrent() {
    if (!currentLesson) return;
    typed = "";
    errors = 0;
    startTime = null;
    currentSegmentIndex = 0;
    exerciseCompleted = false;
    typedTextElem.textContent = "";
    updateStats();
    renderExerciseText();
    updateSegmentLabel();
    updateFingerHint();
  }

  // ==== NEXT LESSON LOGIC ===================================================

  function goToNextLesson() {
    if (!currentLesson) return;

    const lang = currentLesson.language;
    const list = lessons.filter(l => l.language === lang);
    const idx = list.findIndex(l => l.id === currentLesson.id);
    if (idx === -1) return;
    if (idx >= list.length - 1) return; // no next lesson

    const next = list[idx + 1];
    setCurrentLesson(next.id);
  }

  // ==== KEY HANDLING ========================================================

  function onKeyDown(e) {
    if (e.key === "Escape") {
      resetCurrent();
      e.preventDefault();
      return;
    }

    // If exercise is completed and user presses Space or Enter,
    // jump to the next lesson.
    if (exerciseCompleted && (e.key === " " || e.key === "Enter")) {
      goToNextLesson();
      e.preventDefault();
      return;
    }

    if (!currentLesson) return;

    const full = getCurrentText();

    // If we are at or past the end of the current segment and user presses
    // space or enter, move to the next segment even if there are mistakes.
    if (
      currentLesson.segments &&
      typed.length >= full.length &&
      currentSegmentIndex < totalSegments() - 1 &&
      (e.key === " " || e.key === "Enter")
    ) {
      advanceSegment();
      e.preventDefault();
      return;
    }

    if (e.key === "Backspace") {
      if (typed.length > 0) {
        const lastIndex = typed.length - 1;
        const removedChar = typed[lastIndex];
        const corresponding = full[lastIndex];
        if (removedChar !== corresponding && errors > 0) {
          errors -= 1;
        }
        typed = typed.slice(0, -1);
        typedTextElem.textContent = typed;
        renderExerciseText();
        updateStats();
      }
      e.preventDefault();
      return;
    }

    // Ignore non-character keys (except Enter/Space handled above)
    if (e.key.length > 1 && e.key !== "Enter" && e.key !== " ") {
      return;
    }

    if (!startTime) {
      startTime = Date.now();
    }

    let charToAdd = e.key;
    if (charToAdd === "Enter") {
      charToAdd = "\n";
    }

    if (typed.length < full.length) {
      typed += charToAdd;
      const expected = full[typed.length - 1];
      if (charToAdd !== expected) {
        errors += 1;
      }
      typedTextElem.textContent = typed;
      renderExerciseText();
      updateStats();
      flashKeyHighlight(charToAdd);

      // If the segment is now perfectly complete, auto-advance (if there is
      // another segment).
      if (
        currentLesson.segments &&
        typed === full &&
        currentSegmentIndex < totalSegments() - 1
      ) {
        advanceSegment();
      }
    }

    e.preventDefault();
  }

  function advanceSegment() {
    if (!currentLesson || !currentLesson.segments) return;
    if (currentSegmentIndex >= totalSegments() - 1) return;

    currentSegmentIndex += 1;
    typed = "";
    typedTextElem.textContent = "";
    exerciseCompleted = false;
    renderExerciseText();
    updateSegmentLabel();
    updateFingerHint();
  }

  function flashKeyHighlight(ch) {
    let keyChar = ch;
    if (keyChar === "\n") keyChar = null;

    if (keyChar != null) {
      keyChar = keyChar.toLowerCase();
      const selector = `.key[data-key="${CSS.escape(keyChar)}"]`;
      const keyElem = document.querySelector(selector);
      if (keyElem) {
        keyElem.classList.add("active");
        setTimeout(() => keyElem.classList.remove("active"), 120);
      }
    }

    if (ch === " ") {
      const spaceElem = document.querySelector('.key[data-key=" "]');
      if (spaceElem) {
        spaceElem.classList.add("active");
        setTimeout(() => spaceElem.classList.remove("active"), 120);
      }
    }
  }

  // ==== EVENT WIRING ========================================================

  languageSelect.addEventListener("change", () => {
    // Changing practice language resets current lesson
    currentLesson = null;
    currentSegmentIndex = 0;
    typed = "";
    errors = 0;
    startTime = null;
    exerciseCompleted = false;
    expandedGroups = {};
    typedTextElem.textContent = "";
    updateStats();
    renderLessons();
    applyUiLanguage();
  });

  uiLanguageSelect.addEventListener("change", () => {
    currentUiLang = uiLanguageSelect.value;
    applyUiLanguage();
    renderLessons();
  });

  resetBtn.addEventListener("click", resetCurrent);
  appRoot.addEventListener("keydown", onKeyDown);

  // ==== INITIALIZATION ======================================================

  renderLessons();
  updateStats();
  applyUiLanguage();
  appRoot.focus();
</script>
</body>
</html>
